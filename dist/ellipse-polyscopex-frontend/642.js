(self.webpackChunkellipse_polyscopex_frontend=self.webpackChunkellipse_polyscopex_frontend||[]).push([[642],{21:(yt,T,_)=>{"use strict";_.d(T,{A2:()=>R,M7:()=>E,ro:()=>O});const E=x("C",void 0,void 0);function R(b){return x("E",void 0,b)}function O(b){return x("N",b,void 0)}function x(b,M,w){return{kind:b,value:M,error:w}}},282:(yt,T,_)=>{T.formatArgs=function R(w){if(w[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+w[0]+(this.useColors?"%c ":" ")+"+"+yt.exports.humanize(this.diff),!this.useColors)return;const S="color: "+this.color;w.splice(1,0,S,"color: inherit");let L=0,k=0;w[0].replace(/%[a-zA-Z%]/g,J=>{"%%"!==J&&(L++,"%c"===J&&(k=L))}),w.splice(k,0,S)},T.save=function O(w){try{w?T.storage.setItem("debug",w):T.storage.removeItem("debug")}catch{}},T.load=function x(){let w;try{w=T.storage.getItem("debug")||T.storage.getItem("DEBUG")}catch{}return!w&&typeof process<"u"&&"env"in process&&(w=process.env.DEBUG),w},T.useColors=function E(){if(typeof window<"u"&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let w;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(w=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(w[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},T.storage=function b(){try{return localStorage}catch{}}(),T.destroy=(()=>{let w=!1;return()=>{w||(w=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),T.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],T.log=console.debug||console.log||(()=>{}),yt.exports=_(741)(T);const{formatters:M}=yt.exports;M.j=function(w){try{return JSON.stringify(w)}catch(S){return"[UnexpectedJSONParseError]: "+S.message}}},435:(yt,T)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.DefaultSerializer=T.extendSerializer=void 0,T.extendSerializer=function _(O,x){const b=O.deserialize.bind(O),M=O.serialize.bind(O);return{deserialize:w=>x.deserialize(w,b),serialize:w=>x.serialize(w,M)}};const E_deserialize=O=>Object.assign(Error(O.message),{name:O.name,stack:O.stack}),E_serialize=O=>({__error_marker:"$$error",message:O.message,name:O.name,stack:O.stack});T.DefaultSerializer={deserialize:O=>(O=>O&&"object"==typeof O&&"__error_marker"in O&&"$$error"===O.__error_marker)(O)?E_deserialize(O):O,serialize:O=>O instanceof Error?E_serialize(O):O}},465:(yt,T,_)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.isWorkerRuntime=T.getWorkerImplementation=T.defaultPoolSize=void 0;const E=_(4232);T.defaultPoolSize=typeof navigator<"u"&&navigator.hardwareConcurrency?navigator.hardwareConcurrency:4;const R=S=>/^[a-zA-Z][a-zA-Z\d+\-.]*:/.test(S);function O(S){const L=new Blob([S],{type:"application/javascript"});return URL.createObjectURL(L)}let b;T.getWorkerImplementation=function M(){return b||(b=function x(){if(typeof Worker>"u")return class{constructor(){throw Error("No web worker implementation available. You might have tried to spawn a worker within a worker in a browser that doesn't support workers in workers.")}};class S extends Worker{constructor(J,tt){var at,ft;"string"==typeof J&&tt&&tt._baseURL?J=new URL(J,tt._baseURL):"string"==typeof J&&!R(J)&&E.getBundleURL().match(/^file:\/\//i)&&(J=new URL(J,E.getBundleURL().replace(/\/[^\/]+$/,"/")),(!(null!==(at=tt?.CORSWorkaround)&&void 0!==at)||at)&&(J=O(`importScripts(${JSON.stringify(J)});`))),"string"==typeof J&&R(J)&&(!(null!==(ft=tt?.CORSWorkaround)&&void 0!==ft)||ft)&&(J=O(`importScripts(${JSON.stringify(J)});`)),super(J,tt)}}class L extends S{constructor(J,tt){super(window.URL.createObjectURL(J),tt)}static fromText(J,tt){const at=new window.Blob([J],{type:"text/javascript"});return new L(at,tt)}}return{blob:L,default:S}}()),b},T.isWorkerRuntime=function w(){const S=typeof self<"u"&&typeof Window<"u"&&self instanceof Window;return!(!(typeof self<"u"&&self.postMessage)||S)}},467:(yt,T,_)=>{"use strict";function E(O,x,b,M,w,S,L){try{var k=O[S](L),J=k.value}catch(tt){return void b(tt)}k.done?x(J):Promise.resolve(J).then(M,w)}function R(O){return function(){var x=this,b=arguments;return new Promise(function(M,w){var S=O.apply(x,b);function L(J){E(S,M,w,L,k,"next",J)}function k(J){E(S,M,w,L,k,"throw",J)}L(void 0)})}}_.d(T,{A:()=>R})},591:(yt,T,_)=>{"use strict";function E(R){return new TypeError(`You provided ${null!==R&&"object"==typeof R?"an invalid object":`'${R}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}_.d(T,{L:()=>E})},618:function(yt,T,_){"use strict";var E=this&&this.__awaiter||function(I,N,$,U){return new($||($=Promise))(function(j,lt){function At(ie){try{St(U.next(ie))}catch(Kt){lt(Kt)}}function Tt(ie){try{St(U.throw(ie))}catch(Kt){lt(Kt)}}function St(ie){ie.done?j(ie.value):function G(j){return j instanceof $?j:new $(function(lt){lt(j)})}(ie.value).then(At,Tt)}St((U=U.apply(I,N||[])).next())})},R=this&&this.__importDefault||function(I){return I&&I.__esModule?I:{default:I}};Object.defineProperty(T,"__esModule",{value:!0}),T.spawn=void 0;const O=R(_(282)),x=_(5548),b=_(7981),M=_(3007),w=_(7727),S=_(6056),L=_(4714),k=O.default("threads:master:messages"),J=O.default("threads:master:spawn"),tt=O.default("threads:master:thread-utils"),K=typeof process<"u"&&process.env.THREADS_WORKER_INIT_TIMEOUT?Number.parseInt(process.env.THREADS_WORKER_INIT_TIMEOUT,10):1e4;function xt(I,N,$,U){const G=$.filter(j=>j.type===S.WorkerEventType.internalError).map(j=>j.error);return Object.assign(I,{[w.$errors]:G,[w.$events]:$,[w.$terminate]:U,[w.$worker]:N})}T.spawn=function ht(I,N){return E(this,void 0,void 0,function*(){J("Initializing new thread");const $=N&&N.timeout?N.timeout:K,G=(yield function Pt(I,N,$){return E(this,void 0,void 0,function*(){let U;const G=new Promise((lt,At)=>{U=setTimeout(()=>At(Error($)),N)}),j=yield Promise.race([I,G]);return clearTimeout(U),j})}(function Et(I){return new Promise((N,$)=>{const U=G=>{k("Message from worker before finishing initialization:",G.data),(I=>I&&"init"===I.type)(G.data)?(I.removeEventListener("message",U),N(G.data)):(I=>I&&"uncaughtError"===I.type)(G.data)&&(I.removeEventListener("message",U),$(b.deserialize(G.data.error)))};I.addEventListener("message",U)})}(I),$,`Timeout: Did not receive an init message from worker after ${$}ms. Make sure the worker calls expose().`)).exposed,{termination:j,terminate:lt}=function q(I){const[N,$]=M.createPromiseWithResolver();return{terminate:()=>E(this,void 0,void 0,function*(){tt("Terminating worker"),yield I.terminate(),$()}),termination:N}}(I),At=function Y(I,N){return new x.Observable($=>{const U=j=>{$.next({type:S.WorkerEventType.message,data:j.data})},G=j=>{tt("Unhandled promise rejection event in thread:",j);const lt={type:S.WorkerEventType.internalError,error:Error(j.reason)};$.next(lt)};I.addEventListener("message",U),I.addEventListener("unhandledrejection",G),N.then(()=>{const j={type:S.WorkerEventType.termination};I.removeEventListener("message",U),I.removeEventListener("unhandledrejection",G),$.next(j),$.complete()})})}(I,j);if("function"===G.type)return xt(L.createProxyFunction(I),I,At,lt);if("module"===G.type)return xt(L.createProxyModule(I,G.methods),I,At,lt);throw Error(`Worker init message states unexpected type of expose(): ${G.type}`)})}},737:(yt,T,_)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.ObservablePromise=void 0;const E=_(5548),R=()=>{},O=S=>S,x=S=>Promise.resolve().then(S);function b(S){throw S}class w extends E.Observable{constructor(L){super(k=>{const J=this,tt=Object.assign(Object.assign({},k),{complete(){k.complete(),J.onCompletion()},error(at){k.error(at),J.onError(at)},next(at){k.next(at),J.onNext(at)}});try{return this.initHasRun=!0,L(tt)}catch(at){tt.error(at)}}),this.initHasRun=!1,this.fulfillmentCallbacks=[],this.rejectionCallbacks=[],this.firstValueSet=!1,this.state="pending"}onNext(L){this.firstValueSet||(this.firstValue=L,this.firstValueSet=!0)}onError(L){this.state="rejected",this.rejection=L;for(const k of this.rejectionCallbacks)x(()=>k(L))}onCompletion(){this.state="fulfilled";for(const L of this.fulfillmentCallbacks)x(()=>L(this.firstValue))}then(L,k){const J=L||O,tt=k||b;let at=!1;return new Promise((ft,K)=>{const Pt=Y=>{if(!at){at=!0;try{ft(tt(Y))}catch(q){K(q)}}};return this.initHasRun||this.subscribe({error:Pt}),"fulfilled"===this.state?ft(J(this.firstValue)):"rejected"===this.state?(at=!0,ft(tt(this.rejection))):(this.fulfillmentCallbacks.push(Y=>{try{ft(J(Y))}catch(q){Pt(q)}}),void this.rejectionCallbacks.push(Pt))})}catch(L){return this.then(void 0,L)}finally(L){const k=L||R;return this.then(J=>(k(),J),()=>k())}static from(L){return function M(S){return S&&"function"==typeof S.then}(L)?new w(k=>{L.then(at=>{k.next(at),k.complete()},at=>{k.error(at)})}):super.from(L)}}T.ObservablePromise=w},741:(yt,T,_)=>{yt.exports=function E(R){function x(tt){let at,K,Pt,ft=null;function Et(...Y){if(!Et.enabled)return;const q=Et,xt=Number(new Date);q.diff=xt-(at||xt),q.prev=at,q.curr=xt,at=xt,Y[0]=x.coerce(Y[0]),"string"!=typeof Y[0]&&Y.unshift("%O");let I=0;Y[0]=Y[0].replace(/%([a-zA-Z%])/g,($,U)=>{if("%%"===$)return"%";I++;const G=x.formatters[U];return"function"==typeof G&&($=G.call(q,Y[I]),Y.splice(I,1),I--),$}),x.formatArgs.call(q,Y),(q.log||x.log).apply(q,Y)}return Et.namespace=tt,Et.useColors=x.useColors(),Et.color=x.selectColor(tt),Et.extend=b,Et.destroy=x.destroy,Object.defineProperty(Et,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==ft?ft:(K!==x.namespaces&&(K=x.namespaces,Pt=x.enabled(tt)),Pt),set:Y=>{ft=Y}}),"function"==typeof x.init&&x.init(Et),Et}function b(tt,at){const ft=x(this.namespace+(typeof at>"u"?":":at)+tt);return ft.log=this.log,ft}function w(tt,at){let ft=0,K=0,Pt=-1,Et=0;for(;ft<tt.length;)if(K<at.length&&(at[K]===tt[ft]||"*"===at[K]))"*"===at[K]?(Pt=K,Et=ft,K++):(ft++,K++);else{if(-1===Pt)return!1;K=Pt+1,Et++,ft=Et}for(;K<at.length&&"*"===at[K];)K++;return K===at.length}return x.debug=x,x.default=x,x.coerce=function k(tt){return tt instanceof Error?tt.stack||tt.message:tt},x.disable=function S(){const tt=[...x.names,...x.skips.map(at=>"-"+at)].join(",");return x.enable(""),tt},x.enable=function M(tt){x.save(tt),x.namespaces=tt,x.names=[],x.skips=[];const at=("string"==typeof tt?tt:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(const ft of at)"-"===ft[0]?x.skips.push(ft.slice(1)):x.names.push(ft)},x.enabled=function L(tt){for(const at of x.skips)if(w(tt,at))return!1;for(const at of x.names)if(w(tt,at))return!0;return!1},x.humanize=_(3244),x.destroy=function J(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(R).forEach(tt=>{x[tt]=R[tt]}),x.names=[],x.skips=[],x.formatters={},x.selectColor=function O(tt){let at=0;for(let ft=0;ft<tt.length;ft++)at=(at<<5)-at+tt.charCodeAt(ft),at|=0;return x.colors[Math.abs(at)%x.colors.length]},x.enable(x.load()),x}},941:(yt,T,_)=>{"use strict";_.d(T,{Q:()=>x});var E=_(5225),R=_(9974),O=_(4360);function x(b,M=0){return(0,R.N)((w,S)=>{w.subscribe((0,O._)(S,L=>(0,E.N)(S,b,()=>S.next(L),M),()=>(0,E.N)(S,b,()=>S.complete(),M),L=>(0,E.N)(S,b,()=>S.error(L),M)))})}},980:(yt,T,_)=>{"use strict";_.d(T,{j:()=>R});var E=_(9974);function R(O){return(0,E.N)((x,b)=>{try{x.subscribe(b)}finally{b.add(O)}})}},983:(yt,T,_)=>{"use strict";_.d(T,{w:()=>R});const R=new(_(1985).c)(b=>b.complete())},1026:(yt,T,_)=>{"use strict";_.d(T,{$:()=>E});const E={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},1203:(yt,T,_)=>{"use strict";_.d(T,{m:()=>O});var E=_(3669);function O(x){return 0===x.length?E.D:1===x.length?x[0]:function(M){return x.reduce((w,S)=>S(w),M)}}},1260:(yt,T,_)=>{"use strict";_.d(T,{x:()=>x});var E=_(8750),R=_(941),O=_(6745);function x(b,M){return(0,E.Tg)(b).pipe((0,O._)(M),(0,R.Q)(M))}},1465:function(yt,T,_){var E;!function(){"use strict";var O,M=1e6,w=1e6,k="[big.js] ",J=k+"Invalid ",tt=J+"decimal places",at=J+"rounding mode",ft=k+"Division by zero",K={},Pt=void 0,Et=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function xt(I,N,$,U){var G=I.c,j=I.e+N+1;if(j<G.length){if(1===$)U=G[j]>=5;else if(2===$)U=G[j]>5||5==G[j]&&(U||j<0||G[j+1]!==Pt||1&G[j-1]);else if(3===$)U=U||!!G[0];else if(U=!1,0!==$)throw Error(at);if(j<1)G.length=1,U?(I.e=-N,G[0]=1):G[0]=I.e=0;else{if(G.length=j--,U)for(;++G[j]>9;)G[j]=0,j--||(++I.e,G.unshift(1));for(j=G.length;!G[--j];)G.pop()}}else if($<0||$>3||$!==~~$)throw Error(at);return I}function ht(I,N,$,U){var G,j,lt=I.constructor,At=!I.c[0];if($!==Pt){if($!==~~$||$<(3==N)||$>M)throw Error(3==N?J+"precision":tt);for($=U-(I=new lt(I)).e,I.c.length>++U&&xt(I,$,lt.RM),2==N&&(U=I.e+$+1);I.c.length<U;)I.c.push(0)}if(G=I.e,$=(j=I.c.join("")).length,2!=N&&(1==N||3==N&&U<=G||G<=lt.NE||G>=lt.PE))j=j.charAt(0)+($>1?"."+j.slice(1):"")+(G<0?"e":"e+")+G;else if(G<0){for(;++G;)j="0"+j;j="0."+j}else if(G>0)if(++G>$)for(G-=$;G--;)j+="0";else G<$&&(j=j.slice(0,G)+"."+j.slice(G));else $>1&&(j=j.charAt(0)+"."+j.slice(1));return I.s<0&&(!At||4==N)?"-"+j:j}K.abs=function(){var I=new this.constructor(this);return I.s=1,I},K.cmp=function(I){var N,$=this,U=$.c,G=(I=new $.constructor(I)).c,j=$.s,lt=I.s,At=$.e,Tt=I.e;if(!U[0]||!G[0])return U[0]?j:G[0]?-lt:0;if(j!=lt)return j;if(N=j<0,At!=Tt)return At>Tt^N?1:-1;for(lt=(At=U.length)<(Tt=G.length)?At:Tt,j=-1;++j<lt;)if(U[j]!=G[j])return U[j]>G[j]^N?1:-1;return At==Tt?0:At>Tt^N?1:-1},K.div=function(I){var N=this,$=N.constructor,U=N.c,G=(I=new $(I)).c,j=N.s==I.s?1:-1,lt=$.DP;if(lt!==~~lt||lt<0||lt>M)throw Error(tt);if(!G[0])throw Error(ft);if(!U[0])return new $(0*j);var At,Tt,St,ie,Kt,oe=G.slice(),Me=At=G.length,Xe=U.length,te=U.slice(0,At),W=te.length,X=I,et=X.c=[],st=0,gt=lt+(X.e=N.e-I.e)+1;for(X.s=j,j=gt<0?0:gt,oe.unshift(0);W++<At;)te.push(0);do{for(St=0;St<10;St++){if(At!=(W=te.length))ie=At>W?1:-1;else for(Kt=-1,ie=0;++Kt<At;)if(G[Kt]!=te[Kt]){ie=G[Kt]>te[Kt]?1:-1;break}if(!(ie<0))break;for(Tt=W==At?G:oe;W;){if(te[--W]<Tt[W]){for(Kt=W;Kt&&!te[--Kt];)te[Kt]=9;--te[Kt],te[W]+=10}te[W]-=Tt[W]}for(;!te[0];)te.shift()}et[st++]=ie?St:++St,te[0]&&ie?te[W]=U[Me]||0:te=[U[Me]]}while((Me++<Xe||te[0]!==Pt)&&j--);return!et[0]&&1!=st&&(et.shift(),X.e--),st>gt&&xt(X,lt,$.RM,te[0]!==Pt),X},K.eq=function(I){return!this.cmp(I)},K.gt=function(I){return this.cmp(I)>0},K.gte=function(I){return this.cmp(I)>-1},K.lt=function(I){return this.cmp(I)<0},K.lte=function(I){return this.cmp(I)<1},K.minus=K.sub=function(I){var N,$,U,G,j=this,lt=j.constructor,At=j.s,Tt=(I=new lt(I)).s;if(At!=Tt)return I.s=-Tt,j.plus(I);var St=j.c.slice(),ie=j.e,Kt=I.c,oe=I.e;if(!St[0]||!Kt[0])return Kt[0]?(I.s=-Tt,I):new lt(St[0]?j:0);if(At=ie-oe){for((G=At<0)?(At=-At,U=St):(oe=ie,U=Kt),U.reverse(),Tt=At;Tt--;)U.push(0);U.reverse()}else for($=((G=St.length<Kt.length)?St:Kt).length,At=Tt=0;Tt<$;Tt++)if(St[Tt]!=Kt[Tt]){G=St[Tt]<Kt[Tt];break}if(G&&(U=St,St=Kt,Kt=U,I.s=-I.s),(Tt=($=Kt.length)-(N=St.length))>0)for(;Tt--;)St[N++]=0;for(Tt=N;$>At;){if(St[--$]<Kt[$]){for(N=$;N&&!St[--N];)St[N]=9;--St[N],St[$]+=10}St[$]-=Kt[$]}for(;0===St[--Tt];)St.pop();for(;0===St[0];)St.shift(),--oe;return St[0]||(I.s=1,St=[oe=0]),I.c=St,I.e=oe,I},K.mod=function(I){var N,$=this,U=$.constructor,G=$.s,j=(I=new U(I)).s;if(!I.c[0])throw Error(ft);return $.s=I.s=1,N=1==I.cmp($),$.s=G,I.s=j,N?new U($):(G=U.DP,j=U.RM,U.DP=U.RM=0,$=$.div(I),U.DP=G,U.RM=j,this.minus($.times(I)))},K.plus=K.add=function(I){var N,$=this,U=$.constructor,G=$.s,j=(I=new U(I)).s;if(G!=j)return I.s=-j,$.minus(I);var lt=$.e,At=$.c,Tt=I.e,St=I.c;if(!At[0]||!St[0])return St[0]?I:new U(At[0]?$:0*G);if(At=At.slice(),G=lt-Tt){for(G>0?(Tt=lt,N=St):(G=-G,N=At),N.reverse();G--;)N.push(0);N.reverse()}for(At.length-St.length<0&&(N=St,St=At,At=N),G=St.length,j=0;G;At[G]%=10)j=(At[--G]=At[G]+St[G]+j)/10|0;for(j&&(At.unshift(j),++Tt),G=At.length;0===At[--G];)At.pop();return I.c=At,I.e=Tt,I},K.pow=function(I){var N=this,$=new N.constructor(1),U=$,G=I<0;if(I!==~~I||I<-w||I>w)throw Error(J+"exponent");for(G&&(I=-I);1&I&&(U=U.times(N)),I>>=1;)N=N.times(N);return G?$.div(U):U},K.round=function(I,N){var $=this.constructor;if(I===Pt)I=0;else if(I!==~~I||I<-M||I>M)throw Error(tt);return xt(new $(this),I,N===Pt?$.RM:N)},K.sqrt=function(){var I,N,$,U=this,G=U.constructor,j=U.s,lt=U.e,At=new G(.5);if(!U.c[0])return new G(U);if(j<0)throw Error(k+"No square root");0===(j=Math.sqrt(U+""))||j===1/0?((N=U.c.join("")).length+lt&1||(N+="0"),lt=((lt+1)/2|0)-(lt<0||1&lt),I=new G(((j=Math.sqrt(N))==1/0?"1e":(j=j.toExponential()).slice(0,j.indexOf("e")+1))+lt)):I=new G(j),lt=I.e+(G.DP+=4);do{I=At.times(($=I).plus(U.div($)))}while($.c.slice(0,lt).join("")!==I.c.slice(0,lt).join(""));return xt(I,G.DP-=4,G.RM)},K.times=K.mul=function(I){var N,$=this,U=$.constructor,G=$.c,j=(I=new U(I)).c,lt=G.length,At=j.length,Tt=$.e,St=I.e;if(I.s=$.s==I.s?1:-1,!G[0]||!j[0])return new U(0*I.s);for(I.e=Tt+St,lt<At&&(N=G,G=j,j=N,St=lt,lt=At,At=St),N=new Array(St=lt+At);St--;)N[St]=0;for(Tt=At;Tt--;){for(At=0,St=lt+Tt;St>Tt;)At=N[St]+j[Tt]*G[St-Tt-1]+At,N[St--]=At%10,At=At/10|0;N[St]=(N[St]+At)%10}for(At?++I.e:N.shift(),Tt=N.length;!N[--Tt];)N.pop();return I.c=N,I},K.toExponential=function(I){return ht(this,1,I,I)},K.toFixed=function(I){return ht(this,2,I,this.e+I)},K.toPrecision=function(I){return ht(this,3,I,I-1)},K.toString=function(){return ht(this)},K.valueOf=K.toJSON=function(){return ht(this,4)},(O=function Y(){function I(N){var $=this;if(!($ instanceof I))return N===Pt?Y():new I(N);N instanceof I?($.s=N.s,$.e=N.e,$.c=N.c.slice()):function q(I,N){var $,U,G;if(0===N&&1/N<0)N="-0";else if(!Et.test(N+=""))throw Error(J+"number");for(I.s="-"==N.charAt(0)?(N=N.slice(1),-1):1,($=N.indexOf("."))>-1&&(N=N.replace(".","")),(U=N.search(/e/i))>0?($<0&&($=U),$+=+N.slice(U+1),N=N.substring(0,U)):$<0&&($=N.length),G=N.length,U=0;U<G&&"0"==N.charAt(U);)++U;if(U==G)I.c=[I.e=0];else{for(;G>0&&"0"==N.charAt(--G););for(I.e=$-U-1,I.c=[],$=0;U<=G;)I.c[$++]=+N.charAt(U++)}}($,N),$.constructor=I}return I.prototype=K,I.DP=20,I.RM=1,I.NE=-7,I.PE=21,I.version="5.2.2",I}()).default=O.Big=O,void 0!==(E=function(){return O}.call(T,_,T,yt))&&(yt.exports=E)}()},1506:(yt,T,_)=>{"use strict";_.d(T,{v:()=>O});var E=_(3163),R=_(5196);function O(x,b){return(0,E.M)((0,R.C)(x),b)}},1583:(yt,T,_)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.Transfer=T.isTransferDescriptor=void 0;const E=_(7727);T.isTransferDescriptor=function O(b){return b&&"object"==typeof b&&b[E.$transferable]},T.Transfer=function x(b,M){if(!M){if(!function R(b){return!(!b||"object"!=typeof b)}(b))throw Error();M=[b]}return{[E.$transferable]:!0,send:b,transferables:M}}},1635:(yt,T,_)=>{"use strict";function tt(W,X,et,st){return new(et||(et=Promise))(function(_t,zt){function qt(ot){try{kt(st.next(ot))}catch(H){zt(H)}}function fe(ot){try{kt(st.throw(ot))}catch(H){zt(H)}}function kt(ot){ot.done?_t(ot.value):function gt(_t){return _t instanceof et?_t:new et(function(zt){zt(_t)})}(ot.value).then(qt,fe)}kt((st=st.apply(W,X||[])).next())})}function ht(W){return this instanceof ht?(this.v=W,this):new ht(W)}function I(W,X,et){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var gt,st=et.apply(W,X||[]),_t=[];return gt=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),qt("next"),qt("throw"),qt("return",function zt(it){return function(ut){return Promise.resolve(ut).then(it,H)}}),gt[Symbol.asyncIterator]=function(){return this},gt;function qt(it,ut){st[it]&&(gt[it]=function(pt){return new Promise(function(bt,Ut){_t.push([it,pt,bt,Ut])>1||fe(it,pt)})},ut&&(gt[it]=ut(gt[it])))}function fe(it,ut){try{!function kt(it){it.value instanceof ht?Promise.resolve(it.value.v).then(ot,H):dt(_t[0][2],it)}(st[it](ut))}catch(pt){dt(_t[0][3],pt)}}function ot(it){fe("next",it)}function H(it){fe("throw",it)}function dt(it,ut){it(ut),_t.shift(),_t.length&&fe(_t[0][0],_t[0][1])}}function $(W){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var et,X=W[Symbol.asyncIterator];return X?X.call(W):(W=function Pt(W){var X="function"==typeof Symbol&&Symbol.iterator,et=X&&W[X],st=0;if(et)return et.call(W);if(W&&"number"==typeof W.length)return{next:function(){return W&&st>=W.length&&(W=void 0),{value:W&&W[st++],done:!W}}};throw new TypeError(X?"Object is not iterable.":"Symbol.iterator is not defined.")}(W),et={},st("next"),st("throw"),st("return"),et[Symbol.asyncIterator]=function(){return this},et);function st(_t){et[_t]=W[_t]&&function(zt){return new Promise(function(qt,fe){!function gt(_t,zt,qt,fe){Promise.resolve(fe).then(function(kt){_t({value:kt,done:qt})},zt)}(qt,fe,(zt=W[_t](zt)).done,zt.value)})}}}_.d(T,{AQ:()=>I,N3:()=>ht,sH:()=>tt,xN:()=>$}),"function"==typeof SuppressedError&&SuppressedError},1639:(yt,T)=>{"use strict";var E=function(){function R(O){if(!O)throw new TypeError("Invalid argument; `value` has no value.");this.value=R.EMPTY,O&&R.isGuid(O)&&(this.value=O)}return R.isGuid=function(O){var x=O.toString();return O&&(O instanceof R||R.validator.test(x))},R.create=function(){return new R([R.gen(2),R.gen(1),R.gen(1),R.gen(1),R.gen(3)].join("-"))},R.createEmpty=function(){return new R("emptyguid")},R.parse=function(O){return new R(O)},R.raw=function(){return[R.gen(2),R.gen(1),R.gen(1),R.gen(1),R.gen(3)].join("-")},R.gen=function(O){for(var x="",b=0;b<O;b++)x+=(65536*(1+Math.random())|0).toString(16).substring(1);return x},R.prototype.equals=function(O){return R.isGuid(O)&&this.value===O.toString()},R.prototype.isEmpty=function(){return this.value===R.EMPTY},R.prototype.toString=function(){return this.value},R.prototype.toJSON=function(){return{value:this.value}},R.validator=new RegExp("^[a-z0-9]{8}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{12}$","i"),R.EMPTY="00000000-0000-0000-0000-000000000000",R}();T.q=E},1723:(yt,T)=>{"use strict";var E;Object.defineProperty(T,"__esModule",{value:!0}),T.PoolEventType=void 0,(E=T.PoolEventType||(T.PoolEventType={})).initialized="initialized",E.taskCanceled="taskCanceled",E.taskCompleted="taskCompleted",E.taskFailed="taskFailed",E.taskQueued="taskQueued",E.taskQueueDrained="taskQueueDrained",E.taskStart="taskStart",E.terminated="terminated"},1853:(yt,T,_)=>{"use strict";function E(R){const x=R(b=>{Error.call(b),b.stack=(new Error).stack});return x.prototype=Object.create(Error.prototype),x.prototype.constructor=x,x}_.d(T,{L:()=>E})},1985:(yt,T,_)=>{"use strict";_.d(T,{c:()=>S});var E=_(2998),R=_(3961),O=_(3494),x=_(1203),b=_(1026),M=_(8071),w=_(9786);let S=(()=>{class tt{constructor(ft){ft&&(this._subscribe=ft)}lift(ft){const K=new tt;return K.source=this,K.operator=ft,K}subscribe(ft,K,Pt){const Et=function J(tt){return tt&&tt instanceof E.vU||function k(tt){return tt&&(0,M.T)(tt.next)&&(0,M.T)(tt.error)&&(0,M.T)(tt.complete)}(tt)&&(0,R.Uv)(tt)}(ft)?ft:new E.Ms(ft,K,Pt);return(0,w.Y)(()=>{const{operator:Y,source:q}=this;Et.add(Y?Y.call(Et,q):q?this._subscribe(Et):this._trySubscribe(Et))}),Et}_trySubscribe(ft){try{return this._subscribe(ft)}catch(K){ft.error(K)}}forEach(ft,K){return new(K=L(K))((Pt,Et)=>{const Y=new E.Ms({next:q=>{try{ft(q)}catch(xt){Et(xt),Y.unsubscribe()}},error:Et,complete:Pt});this.subscribe(Y)})}_subscribe(ft){var K;return null===(K=this.source)||void 0===K?void 0:K.subscribe(ft)}[O.s](){return this}pipe(...ft){return(0,x.m)(ft)(this)}toPromise(ft){return new(ft=L(ft))((K,Pt)=>{let Et;this.subscribe(Y=>Et=Y,Y=>Pt(Y),()=>K(Et))})}}return tt.create=at=>new tt(at),tt})();function L(tt){var at;return null!==(at=tt??b.$.Promise)&&void 0!==at?at:Promise}},2386:(yt,T,_)=>{"use strict";_(4845)},2537:(yt,T,_)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.Thread=void 0;const E=_(7727);function R(O){throw Error(O)}T.Thread={errors:O=>O[E.$errors]||R("Error observable not found. Make sure to pass a thread instance as returned by the spawn() promise."),events:O=>O[E.$events]||R("Events observable not found. Make sure to pass a thread instance as returned by the spawn() promise."),terminate:O=>O[E.$terminate]()}},2593:(yt,T,_)=>{"use strict";_.d(T,{c:()=>ft});var E=_(1260),R=_(3220),O=_(5588),x=_(7119),b=_(3163),M=_(5055),w=_(9858),S=_(7441),L=_(5397),k=_(7953),J=_(591),tt=_(5196),at=_(1506);function ft(K,Pt){if(null!=K){if((0,M.l)(K))return(0,E.x)(K,Pt);if((0,S.X)(K))return(0,O.V)(K,Pt);if((0,w.y)(K))return(0,R.P)(K,Pt);if((0,k.T)(K))return(0,b.M)(K,Pt);if((0,L.x)(K))return(0,x.S)(K,Pt);if((0,tt.U)(K))return(0,at.v)(K,Pt)}throw(0,J.L)(K)}},2655:(yt,T,_)=>{"use strict";_.d(T,{p:()=>R});const R=_(7305).expose},2998:(yt,T,_)=>{"use strict";_.d(T,{Ms:()=>at,vU:()=>L});var E=_(8071),R=_(3961),O=_(1026),x=_(5334),b=_(5343),M=_(21),w=_(9270),S=_(9786);class L extends R.yU{constructor(q){super(),this.isStopped=!1,q?(this.destination=q,(0,R.Uv)(q)&&q.add(this)):this.destination=Et}static create(q,xt,ht){return new at(q,xt,ht)}next(q){this.isStopped?Pt((0,M.ro)(q),this):this._next(q)}error(q){this.isStopped?Pt((0,M.A2)(q),this):(this.isStopped=!0,this._error(q))}complete(){this.isStopped?Pt(M.M7,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(q){this.destination.next(q)}_error(q){try{this.destination.error(q)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const k=Function.prototype.bind;function J(Y,q){return k.call(Y,q)}class tt{constructor(q){this.partialObserver=q}next(q){const{partialObserver:xt}=this;if(xt.next)try{xt.next(q)}catch(ht){ft(ht)}}error(q){const{partialObserver:xt}=this;if(xt.error)try{xt.error(q)}catch(ht){ft(ht)}else ft(q)}complete(){const{partialObserver:q}=this;if(q.complete)try{q.complete()}catch(xt){ft(xt)}}}class at extends L{constructor(q,xt,ht){let I;if(super(),(0,E.T)(q)||!q)I={next:q??void 0,error:xt??void 0,complete:ht??void 0};else{let N;this&&O.$.useDeprecatedNextContext?(N=Object.create(q),N.unsubscribe=()=>this.unsubscribe(),I={next:q.next&&J(q.next,N),error:q.error&&J(q.error,N),complete:q.complete&&J(q.complete,N)}):I=q}this.destination=new tt(I)}}function ft(Y){O.$.useDeprecatedSynchronousErrorHandling?(0,S.l)(Y):(0,x.m)(Y)}function Pt(Y,q){const{onStoppedNotification:xt}=O.$;xt&&w.f.setTimeout(()=>xt(Y,q))}const Et={closed:!0,next:b.l,error:function K(Y){throw Y},complete:b.l}},3007:(yt,T)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.createPromiseWithResolver=void 0;const _=()=>{};T.createPromiseWithResolver=function E(){let O,R=!1,x=_;return[new Promise(w=>{R?w(O):x=w}),w=>{R=!0,O=w,x(O)}]}},3028:(yt,T,_)=>{"use strict";_.d(T,{Z:()=>M});var E=_(6354),R=_(8750),O=_(9974),x=_(5412),b=_(8071);function M(w,S,L=1/0){return(0,b.T)(S)?M((k,J)=>(0,E.T)((tt,at)=>S(k,tt,J,at))((0,R.Tg)(w(k,J))),L):("number"==typeof S&&(L=S),(0,O.N)((k,J)=>(0,x.h)(k,J,w,L)))}},3163:(yt,T,_)=>{"use strict";_.d(T,{M:()=>O});var E=_(1985),R=_(5225);function O(x,b){if(!x)throw new Error("Iterable cannot be null");return new E.c(M=>{(0,R.N)(M,b,()=>{const w=x[Symbol.asyncIterator]();(0,R.N)(M,b,()=>{w.next().then(S=>{S.done?M.complete():M.next(S.value)})},0,!0)})})}},3220:(yt,T,_)=>{"use strict";_.d(T,{P:()=>x});var E=_(8750),R=_(941),O=_(6745);function x(b,M){return(0,E.Tg)(b).pipe((0,O._)(M),(0,R.Q)(M))}},3244:yt=>{var T=1e3,_=60*T,E=60*_,R=24*E,O=7*R;function S(L,k,J,tt){var at=k>=1.5*J;return Math.round(L/J)+" "+tt+(at?"s":"")}yt.exports=function(L,k){k=k||{};var J=typeof L;if("string"===J&&L.length>0)return function b(L){if(!((L=String(L)).length>100)){var k=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(L);if(k){var J=parseFloat(k[1]);switch((k[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*J;case"weeks":case"week":case"w":return J*O;case"days":case"day":case"d":return J*R;case"hours":case"hour":case"hrs":case"hr":case"h":return J*E;case"minutes":case"minute":case"mins":case"min":case"m":return J*_;case"seconds":case"second":case"secs":case"sec":case"s":return J*T;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return J;default:return}}}}(L);if("number"===J&&isFinite(L))return k.long?function w(L){var k=Math.abs(L);return k>=R?S(L,k,R,"day"):k>=E?S(L,k,E,"hour"):k>=_?S(L,k,_,"minute"):k>=T?S(L,k,T,"second"):L+" ms"}(L):function M(L){var k=Math.abs(L);return k>=R?Math.round(L/R)+"d":k>=E?Math.round(L/E)+"h":k>=_?Math.round(L/_)+"m":k>=T?Math.round(L/T)+"s":L+"ms"}(L);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(L))}},3494:(yt,T,_)=>{"use strict";_.d(T,{s:()=>E});const E="function"==typeof Symbol&&Symbol.observable||"@@observable"},3669:(yt,T,_)=>{"use strict";function E(R){return R}_.d(T,{D:()=>E})},3961:(yt,T,_)=>{"use strict";_.d(T,{Kn:()=>b,Uv:()=>M,yU:()=>x});var E=_(8071),R=_(4079),O=_(7908);class x{constructor(L){this.initialTeardown=L,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let L;if(!this.closed){this.closed=!0;const{_parentage:k}=this;if(k)if(this._parentage=null,Array.isArray(k))for(const at of k)at.remove(this);else k.remove(this);const{initialTeardown:J}=this;if((0,E.T)(J))try{J()}catch(at){L=at instanceof R.Z?at.errors:[at]}const{_finalizers:tt}=this;if(tt){this._finalizers=null;for(const at of tt)try{w(at)}catch(ft){L=L??[],ft instanceof R.Z?L=[...L,...ft.errors]:L.push(ft)}}if(L)throw new R.Z(L)}}add(L){var k;if(L&&L!==this)if(this.closed)w(L);else{if(L instanceof x){if(L.closed||L._hasParent(this))return;L._addParent(this)}(this._finalizers=null!==(k=this._finalizers)&&void 0!==k?k:[]).push(L)}}_hasParent(L){const{_parentage:k}=this;return k===L||Array.isArray(k)&&k.includes(L)}_addParent(L){const{_parentage:k}=this;this._parentage=Array.isArray(k)?(k.push(L),k):k?[k,L]:L}_removeParent(L){const{_parentage:k}=this;k===L?this._parentage=null:Array.isArray(k)&&(0,O.o)(k,L)}remove(L){const{_finalizers:k}=this;k&&(0,O.o)(k,L),L instanceof x&&L._removeParent(this)}}x.EMPTY=(()=>{const S=new x;return S.closed=!0,S})();const b=x.EMPTY;function M(S){return S instanceof x||S&&"closed"in S&&(0,E.T)(S.remove)&&(0,E.T)(S.add)&&(0,E.T)(S.unsubscribe)}function w(S){(0,E.T)(S)?S():S.unsubscribe()}},4079:(yt,T,_)=>{"use strict";_.d(T,{Z:()=>R});const R=(0,_(1853).L)(O=>function(b){O(this),this.message=b?`${b.length} errors occurred during unsubscription:\n${b.map((M,w)=>`${w+1}) ${M.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=b})},4119:function(yt,T,_){"use strict";var E=this&&this.__awaiter||function(Et,Y,q,xt){return new(q||(q=Promise))(function(I,N){function $(j){try{G(xt.next(j))}catch(lt){N(lt)}}function U(j){try{G(xt.throw(j))}catch(lt){N(lt)}}function G(j){j.done?I(j.value):function ht(I){return I instanceof q?I:new q(function(N){N(I)})}(j.value).then($,U)}G((xt=xt.apply(Et,Y||[])).next())})},R=this&&this.__importDefault||function(Et){return Et&&Et.__esModule?Et:{default:Et}};Object.defineProperty(T,"__esModule",{value:!0}),T.Pool=T.Thread=T.PoolEventType=void 0;const O=R(_(282)),x=_(5548),b=_(5508),M=_(465),w=_(1723);Object.defineProperty(T,"PoolEventType",{enumerable:!0,get:function(){return w.PoolEventType}});const S=_(2537);Object.defineProperty(T,"Thread",{enumerable:!0,get:function(){return S.Thread}});let L=1;class K{constructor(Y,q){this.eventSubject=new x.Subject,this.initErrors=[],this.isClosing=!1,this.nextTaskID=1,this.taskQueue=[];const xt="number"==typeof q?{size:q}:q||{},{size:ht=M.defaultPoolSize}=xt;this.debug=O.default(`threads:pool:${function at(Et){return Et.replace(/\W/g," ").trim().replace(/\s+/g,"-")}(xt.name||String(L++))}`),this.options=xt,this.workers=function ft(Et,Y){return function k(Et){const Y=[];for(let q=0;q<Et;q++)Y.push(q);return Y}(Y).map(()=>({init:Et(),runningTasks:[]}))}(Y,ht),this.eventObservable=x.multicast(x.Observable.from(this.eventSubject)),Promise.all(this.workers.map(I=>I.init)).then(()=>this.eventSubject.next({type:w.PoolEventType.initialized,size:this.workers.length}),I=>{this.debug("Error while initializing pool worker:",I),this.eventSubject.error(I),this.initErrors.push(I)})}findIdlingWorker(){const{concurrency:Y=1}=this.options;return this.workers.find(q=>q.runningTasks.length<Y)}runPoolTask(Y,q){return E(this,void 0,void 0,function*(){const xt=this.workers.indexOf(Y)+1;this.debug(`Running task #${q.id} on worker #${xt}...`),this.eventSubject.next({type:w.PoolEventType.taskStart,taskID:q.id,workerID:xt});try{const ht=yield q.run(yield Y.init);this.debug(`Task #${q.id} completed successfully`),this.eventSubject.next({type:w.PoolEventType.taskCompleted,returnValue:ht,taskID:q.id,workerID:xt})}catch(ht){this.debug(`Task #${q.id} failed`),this.eventSubject.next({type:w.PoolEventType.taskFailed,taskID:q.id,error:ht,workerID:xt})}})}run(Y,q){return E(this,void 0,void 0,function*(){const xt=E(this,void 0,void 0,function*(){yield function J(Et){return new Promise(Y=>setTimeout(Y,Et))}(0);try{yield this.runPoolTask(Y,q)}finally{Y.runningTasks=Y.runningTasks.filter(I=>I!==xt),this.isClosing||this.scheduleWork()}});Y.runningTasks.push(xt)})}scheduleWork(){this.debug("Attempt de-queueing a task in order to run it...");const Y=this.findIdlingWorker();if(!Y)return;const q=this.taskQueue.shift();if(!q)return this.debug("Task queue is empty"),void this.eventSubject.next({type:w.PoolEventType.taskQueueDrained});this.run(Y,q)}taskCompletion(Y){return new Promise((q,xt)=>{const ht=this.events().subscribe(I=>{I.type===w.PoolEventType.taskCompleted&&I.taskID===Y?(ht.unsubscribe(),q(I.returnValue)):I.type===w.PoolEventType.taskFailed&&I.taskID===Y?(ht.unsubscribe(),xt(I.error)):I.type===w.PoolEventType.terminated&&(ht.unsubscribe(),xt(Error("Pool has been terminated before task was run.")))})})}settled(Y=!1){return E(this,void 0,void 0,function*(){const q=()=>function tt(Et,Y){return Et.reduce((q,xt)=>[...q,...Y(xt)],[])}(this.workers,I=>I.runningTasks),xt=[],ht=this.eventObservable.subscribe(I=>{I.type===w.PoolEventType.taskFailed&&xt.push(I.error)});return this.initErrors.length>0?Promise.reject(this.initErrors[0]):Y&&0===this.taskQueue.length?(yield b.allSettled(q()),xt):(yield new Promise((I,N)=>{const $=this.eventObservable.subscribe({next(U){U.type===w.PoolEventType.taskQueueDrained&&($.unsubscribe(),I(void 0))},error:N})}),yield b.allSettled(q()),ht.unsubscribe(),xt)})}completed(Y=!1){return E(this,void 0,void 0,function*(){const q=this.settled(Y),xt=new Promise((I,N)=>{const $=this.eventObservable.subscribe({next(U){U.type===w.PoolEventType.taskQueueDrained?($.unsubscribe(),I(q)):U.type===w.PoolEventType.taskFailed&&($.unsubscribe(),N(U.error))},error:N})}),ht=yield Promise.race([q,xt]);if(ht.length>0)throw ht[0]})}events(){return this.eventObservable}queue(Y){const{maxQueuedJobs:q=1/0}=this.options;if(this.isClosing)throw Error("Cannot schedule pool tasks after terminate() has been called.");if(this.initErrors.length>0)throw this.initErrors[0];const xt=this.nextTaskID++,ht=this.taskCompletion(xt);ht.catch(N=>{this.debug(`Task #${xt} errored:`,N)});const I={id:xt,run:Y,cancel:()=>{-1!==this.taskQueue.indexOf(I)&&(this.taskQueue=this.taskQueue.filter(N=>N!==I),this.eventSubject.next({type:w.PoolEventType.taskCanceled,taskID:I.id}))},then:ht.then.bind(ht)};if(this.taskQueue.length>=q)throw Error("Maximum number of pool tasks queued. Refusing to queue another one.\nThis usually happens for one of two reasons: We are either at peak workload right now or some tasks just won't finish, thus blocking the pool.");return this.debug(`Queueing task #${I.id}...`),this.taskQueue.push(I),this.eventSubject.next({type:w.PoolEventType.taskQueued,taskID:I.id}),this.scheduleWork(),I}terminate(Y){return E(this,void 0,void 0,function*(){this.isClosing=!0,Y||(yield this.completed(!0)),this.eventSubject.next({type:w.PoolEventType.terminated,remainingQueue:[...this.taskQueue]}),this.eventSubject.complete(),yield Promise.all(this.workers.map(q=>E(this,void 0,void 0,function*(){return S.Thread.terminate(yield q.init)})))})}}function Pt(Et,Y){return new K(Et,Y)}K.EventType=w.PoolEventType,Pt.EventType=w.PoolEventType,T.Pool=Pt},4232:(yt,T)=>{"use strict";let _;function O(x){return(""+x).replace(/^((?:https?|file|ftp|chrome-extension|moz-extension):\/\/.+)?\/[^/]+(?:\?.*)?$/,"$1")+"/"}Object.defineProperty(T,"__esModule",{value:!0}),T.getBundleURL=T.getBaseURL=void 0,T.getBundleURL=function E(){return _||(_=function R(){try{throw new Error}catch(x){const b=(""+x.stack).match(/(https?|file|ftp|chrome-extension|moz-extension):\/\/[^)\n]+/g);if(b)return O(b[0])}return"/"}()),_},T.getBaseURL=O},4360:(yt,T,_)=>{"use strict";_.d(T,{_:()=>R});var E=_(2998);function R(x,b,M,w,S){return new O(x,b,M,w,S)}class O extends E.vU{constructor(b,M,w,S,L,k){super(b),this.onFinalize=L,this.shouldUnsubscribe=k,this._next=M?function(J){try{M(J)}catch(tt){b.error(tt)}}:super._next,this._error=S?function(J){try{S(J)}catch(tt){b.error(tt)}finally{this.unsubscribe()}}:super._error,this._complete=w?function(){try{w()}catch(J){b.error(J)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var b;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:M}=this;super.unsubscribe(),!M&&(null===(b=this.onFinalize)||void 0===b||b.call(this))}}}},4642:(yt,T,_)=>{"use strict";_.d(T,{IKw:()=>fa,Rwm:()=>Re});var E=_(467),K=(_(1639),_(8530),_(4843),_(6354),_(7786),_(5964),_(6697),_(8810),_(7673),_(980),_(8141),_(5558),_(5985),_(4701)),Pt=_(2655),Et=_(5107);_(6950),EventTarget;var oe=function(d){return d.BOOLEAN="boolean",d.FLOAT="float",d.INTEGER="integer",d.POSE="pose",d.STRING="string",d.MATRIX="matrix",d.ARRAY="array",d.WAYPOINT="waypoint",d.GRID="grid",d.FRAME="frame",d.TIMER="timer",d.PROFILE="profile",d}(oe||{}),pt=function(d){return d.ERROR="error",d.WARNING="warning",d.INFO="info",d}(pt||{});function he(d){return"objectPosition"in d&&"objectRotation"in d&&"referenceFrame"in d}function ha(d){return d&&"$$ApplicationContext"===d.type}(new K.PTz).setFromAxisAngle(new K.Pq0(1,0,0),Math.PI/2),(new K.PTz).setFromAxisAngle(new K.Pq0(1,0,0),-Math.PI/2);const oi=()=>({deserialize:(d,l)=>ha(d)?{contributions:{contributionList:d.contributions?.contributionList??[],getContribution(m){return this.contributionList.find(A=>A.parentType===m)}},frames:{framesList:d.frames?.framesList??[],getFrame(m){return this.framesList.find(A=>A.name===m)}}}:l(d),serialize:(d,l)=>ha(d)?{type:"$$ApplicationContext",contributions:{contributionList:d.contributions?.contributionList??[]},frames:{framesList:d.frames?.framesList??[]}}:l(d)});class Te{constructor(l){this.pointer=0,this.values=l}next(){var l=this;return(0,E.A)(function*(){if(l.pointer<l.values.length){const m=l.pointer;return l.pointer++,{done:!1,value:l.values[m]}}return{done:!0,value:null}})()}[Symbol.asyncIterator](){return this}}function la(d){return d&&"$$InsertionContext"===d.type}let Re=(()=>{class d{static{this.SINGLE_INDENT="  "}static{this.SINGLE_INDENT_LEVEL=1}constructor(m="",A=0){this.type="$$ScriptBuilder",this.script="",this.currentIndent=0,this.addStatements(m),this.currentIndent=A}static getBooleanAsString(m){return m?"True":"False"}static negate(m){return`not (${m})`}static formatArray(m){let A,V;return V="[",m.forEach((nt,mt)=>{A="boolean"==typeof nt?d.getBooleanAsString(nt):"string"==typeof nt?`"${nt}"`:nt.toString(),V+=A,mt<m.length-1&&(V+=", ")}),V+"]"}static formatVariableToURScriptLiteral(m,A){if(!m||void 0===m.valueType)return"";switch(m.valueType){case oe.POSE:return function wi(d){return`p[${d}]`}(A);case oe.BOOLEAN:return function Ce(d){const l="string"==typeof d?"true"===d.toLowerCase():!!d;return Re.getBooleanAsString(l)}(A);case oe.ARRAY:return function lr(d){return`[${d}]`}(A);case oe.STRING:return function Ci(d){return/^"(.*)"$/.test(d)?d:`"${d}"`}(A);case oe.MATRIX:return function ps(d){return Array.isArray(d)?JSON.stringify(d):"string"==typeof d&&d.startsWith("[")&&d.endsWith("]")?d:String(d)}(A);default:return String(A)}}static CreateInkognitoProgram(){return(new d).defineFunction("inkognito")}static CreateSecondaryProgram(m){const A=new d;return A.addStatements(`sec ${m}():`),A.increaseIndent(),A}addStatements(m){let A="";for(let V=0;V<this.currentIndent;V++)A+=d.SINGLE_INDENT;return m.split("\n").filter(V=>V.length>0).forEach(V=>{this.script+=`${A}${V}\n`}),this}addRaw(m){return this.script+=`${m}\n`,this}beginWhile(m){return this.addStatements(`while (${m}):`),this.increaseIndent(),this}beginWhileNot(m){return this.addStatements(`while not (${m}):`),this.increaseIndent(),this}beginWhileTrue(){return this.beginWhile("True"),this}end(){return this.decreaseIndent(),this.addStatements("end"),this}endBlock(){return this.decreaseIndent(),this}returnMethod(){return this.addStatements("return"),this}globalVariable(m,A){return this.addStatements(`global ${m} = ${A}`),this}localVariable(m,A){return this.addStatements(`local ${m} = ${A}`),this}setPersistentVariable(m,A){return this.addStatements(`shared ${m} = ${A}`),this}incrementVariable(m){return this.addStatements(`${m} = ${m} + 1`),this}assign(m,A){return this.addStatements(`${m} = ${A}`),this}ifCondition(m){return this.addStatements(`if (${m}):`),this.increaseIndent(),this}elseIfCondition(m){return this.addStatements(`elif (${m}):`),this.increaseIndent(),this}else(){return this.addStatements("else:"),this.increaseIndent(),this}defineThread(m){return this.addStatements(`thread ${m}():`),this.increaseIndent(),this}runThread(m,A){return this.addStatements(`${m} = run ${A}()`),this}killThread(m){return this.addStatements(`kill ${m}`),this}defineFunction(m,...A){return this.addStatements(`def ${m}(${A.join(",")}):`),this.increaseIndent(),this}comment(m){for(const A of m.split("\n"))this.addStatements(`# ${A}`);return this}addFrame(m,A,V="base"){if("string"==typeof A)return this.addStatements(`add_frame("${m}", ${A}, "${V}")`);const nt=he(A)?A.objectPosition.zUpPositionMeters:A.position,mt=he(A)?A.objectRotation.zUpRotationVectorRadians:A.orientation,It=he(A)?A.referenceFrame:V;return this.addStatements(`add_frame("${m}", p[${nt[0]}, ${nt[1]}, ${nt[2]}, ${mt[0]}, ${mt[1]}, ${mt[2]}], "${It}")`)}deleteFrame(m){return this.addStatements(`delete_frame("${m}")`)}moveFrame(m,A,V="base"){const nt=he(A)?A.objectPosition.zUpPositionMeters:A.position,mt=he(A)?A.objectRotation.zUpRotationVectorRadians:A.orientation,It=he(A)?A.referenceFrame:V;return this.addStatements(`move_frame("${m}", p[${nt[0]}, ${nt[1]}, ${nt[2]}, ${mt[0]}, ${mt[1]}, ${mt[2]}], "${It}")`)}attachFrame(m,A){return this.addStatements(`attach_frame("${m}", "${A}")`)}setFrameOrientation(m,A){const V=`"${m}"`,nt=function hh(d){return"zUpRotationVectorRadians"in d}(A)?A.zUpRotationVectorRadians:A;return this.addStatements([`local existingBaseParent = get_frame_parent(${V})`,`local basePose = get_pose(${V}, existingBaseParent)`,`basePose[3] = ${nt[0]}`,`basePose[4] = ${nt[1]}`,`basePose[5] = ${nt[2]}`,`move_frame(${V}, basePose, existingBaseParent)`].join("\n"))}popup(m,A,V,nt){let mt;switch(V){case pt.ERROR:mt=`popup("${m}", "${A}", False, True, blocking=${d.getBooleanAsString(nt)})`;break;case pt.WARNING:mt=`popup("${m}", "${A}", True, False, blocking=${d.getBooleanAsString(nt)})`;break;case pt.INFO:mt=`popup("${m}", "${A}", False, False, blocking=${d.getBooleanAsString(nt)})`}return this.addStatements(mt),this}requestValue(m,A,V){if(m&&A&&null!==V){const nt=`request_${V.toLowerCase()}_from_primary_client("${A}")`;this.globalVariable(m,nt)}return this}halt(){return this.addStatements("halt"),this}insertBreak(){return this.break()}break(){return this.addStatements("break"),this}sync(){return this.addStatements("sync()"),this}sleep(m){return this.addStatements(`sleep(${m})`),this}stopl(m){return this.addStatements(`stopl(${m})`),this}stopj(m){return this.addStatements(`stopj(${m})`),this}speedl(m,A,V,nt){return this.addStatements(nt?`speedl(struct(vel=${d.formatArray(m)}, frame="${nt}"), ${A}, ${V})`:`speedl(${d.formatArray(m)}, ${A}, ${V})`),this}speedj(m,A,V){return this.addStatements(`speedj(${d.formatArray(m)}, ${A}, ${V})`),this}movej(m,A,V,nt,mt){"string"!=typeof m&&!(m instanceof String)&&(m=d.formatArray(m));const It=[`${m}`];return A&&It.push(`a=${A}`),V&&It.push(`v=${V}`),nt&&It.push(`t=${nt}`),mt&&It.push(`r=${mt}`),this.addStatements(`movej(${It.join(", ")})`),this}movel(m,A,V,nt,mt){const It=[m];return A&&It.push(`a=${A}`),V&&It.push(`v=${V}`),nt&&It.push(`t=${nt}`),mt&&It.push(`r=${mt}`),this.addStatements(`movel(${It.join(", ")})`),this}movep(m,A,V,nt){"string"!=typeof m&&!(m instanceof String)&&(m=d.formatArray(m));const mt=[`${m}`];return A&&mt.push(`a=${A}`),V&&mt.push(`v=${V}`),nt&&mt.push(`r=${nt}`),this.addStatements(`movep(${mt.join(", ")})`),this}movec(m,A,V,nt,mt,It){"string"!=typeof m&&(m=d.formatArray(m)),"string"!=typeof A&&(A=d.formatArray(A));const ee=[`${m}`,`${A}`];return V&&ee.push(`a=${V}`),nt&&ee.push(`v=${nt}`),mt&&ee.push(`r=${mt}`),It&&ee.push(`mode=${It}`),this.addStatements(`movec(${ee.join(", ")})`),this}optimovej(m,A,V,nt){"string"!=typeof m&&!(m instanceof String)&&(m=d.formatArray(m));const mt=[`${m}`];return A&&mt.push(`a=${A}`),V&&mt.push(`v=${V}`),nt&&mt.push(`r=${nt}`),this.addStatements(`optimovej(${mt.join(", ")})`),this}optimovel(m,A,V,nt){const mt=[m];return A&&mt.push(`a=${A}`),V&&mt.push(`v=${V}`),nt&&mt.push(`r=${nt}`),this.addStatements(`optimovel(${mt.join(", ")})`),this}setPayloadMass(m){return this.addStatements(`set_payload_mass(${m})`),this}setPayloadMassAndCoG(m,A,V,nt,mt){return this.setTargetPayload(m,A,V,nt,mt)}setTargetPayload(m,A,V,nt,mt){return this.addStatements(mt?`set_target_payload(${m}, [${A}, ${V}, ${nt}], [${mt[0]}, ${mt[1]}, ${mt[2]}, ${mt[3]}, ${mt[4]}, ${mt[5]}])`:`set_target_payload(${m}, [${A}, ${V}, ${nt}])`),this}setGravity(m,A,V){return this.addStatements(`set_gravity([${m},${A},${V}])`)}setTcp(m,A,V,nt,mt,It,ee){return this.addStatements(`set_tcp(p[${m}, ${A}, ${V}, ${nt}, ${mt}, ${It}]${ee?', "'+ee+'"':""})`),this}append(m){return m.getIndention()<0?(this.increaseIndent(m.getIndention()),this.addStatements(m.getScript())):(this.addStatements(m.getScript()),this.increaseIndent(m.getIndention())),this}getScript(){return this.script.trimEnd()}getIndention(){return this.currentIndent}increaseIndent(m=d.SINGLE_INDENT_LEVEL){this.currentIndent+=m}decreaseIndent(m=d.SINGLE_INDENT_LEVEL){this.currentIndent-=m}}return d})();function Js(d){return d&&"$$ScriptContext"===d.type}function ur(d){return d&&"$$ValidationContext"===d.type}const fa=d=>{(function da(){(0,Et.Mn)({deserialize:(d,l)=>Js(d)?{traverse:{ancestors:new Te(d.ancestors?d.ancestors:[]),children:new Te(d.children?d.children:[]),depthFirst:new Te(d.depthFirst?d.depthFirst:[]),nextSiblings:new Te(d.nextSiblings?d.nextSiblings:[]),previousSiblings:new Te(d.previousSiblings?d.previousSiblings:[])}}:l(d),serialize:(d,l)=>Js(d)?{type:"$$ScriptContext",ancestors:d.ancestors,children:d.children,depthFirst:d.depthFirst,previousSiblings:d.previousSiblings,nextSiblings:d.nextSiblings}:l(d)}),(0,Et.Mn)({deserialize:(d,l)=>ur(d)?{traverse:{ancestors:new Te(d.ancestors?d.ancestors:[]),children:new Te(d.children?d.children:[]),depthFirst:new Te(d.depthFirst?d.depthFirst:[]),nextSiblings:new Te(d.nextSiblings?d.nextSiblings:[]),previousSiblings:new Te(d.previousSiblings?d.previousSiblings:[])}}:l(d),serialize:(d,l)=>ur(d)?{type:"$$ValidationContext",ancestors:d.ancestors,children:d.children,depthFirst:d.depthFirst,previousSiblings:d.previousSiblings,nextSiblings:d.nextSiblings}:l(d)}),(0,Et.Mn)({deserialize:(d,l)=>la(d)?{traverse:{ancestors:new Te(d.ancestors?d.ancestors:[]),nextSiblings:new Te(d.nextSiblings?d.nextSiblings:[]),previousSiblings:new Te(d.previousSiblings?d.previousSiblings:[])}}:l(d),serialize:(d,l)=>la(d)?{type:"$$InsertionContext",ancestors:d.ancestors,previousSiblings:d.previousSiblings,nextSiblings:d.nextSiblings}:l(d)}),(0,Et.Mn)({deserialize:(d,l)=>d&&"$$ScriptBuilder"===d.type?new Re(d.script,d.currentIndent):l(d),serialize:(d,l)=>d&&d.constructor&&"ScriptBuilder"===d.constructor.name?{type:"$$ScriptBuilder",...d}:l(d)}),(0,Et.Mn)(oi())})(),(0,Pt.p)(d)}},4701:(yt,T,_)=>{"use strict";_.d(T,{O9p:()=>ss,PTz:()=>Be,Pq0:()=>B}),_(467);const $e="srgb",or="srgb-linear",Sn="srgb";function Vt(h,t,e){return Math.max(t,Math.min(e,h))}function ms(h,t,e){return(1-e)*h+e*t}Math,Math,Symbol;class Be{constructor(t=0,e=0,i=0,s=1){this.isQuaternion=!0,this._x=t,this._y=e,this._z=i,this._w=s}static slerpFlat(t,e,i,s,n,r,o){let a=i[s+0],c=i[s+1],u=i[s+2],f=i[s+3];const p=n[r+0],y=n[r+1],g=n[r+2],v=n[r+3];if(0===o)return t[e+0]=a,t[e+1]=c,t[e+2]=u,void(t[e+3]=f);if(1===o)return t[e+0]=p,t[e+1]=y,t[e+2]=g,void(t[e+3]=v);if(f!==v||a!==p||c!==y||u!==g){let C=1-o;const P=a*p+c*y+u*g+f*v,z=P>=0?1:-1,F=1-P*P;if(F>Number.EPSILON){const Z=Math.sqrt(F),Q=Math.atan2(Z,P*z);C=Math.sin(C*Q)/Z,o=Math.sin(o*Q)/Z}const D=o*z;if(a=a*C+p*D,c=c*C+y*D,u=u*C+g*D,f=f*C+v*D,C===1-o){const Z=1/Math.sqrt(a*a+c*c+u*u+f*f);a*=Z,c*=Z,u*=Z,f*=Z}}t[e]=a,t[e+1]=c,t[e+2]=u,t[e+3]=f}static multiplyQuaternionsFlat(t,e,i,s,n,r){const o=i[s],a=i[s+1],c=i[s+2],u=i[s+3],f=n[r],p=n[r+1],y=n[r+2],g=n[r+3];return t[e]=o*g+u*f+a*y-c*p,t[e+1]=a*g+u*p+c*f-o*y,t[e+2]=c*g+u*y+o*p-a*f,t[e+3]=u*g-o*f-a*p-c*y,t}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get w(){return this._w}set w(t){this._w=t,this._onChangeCallback()}set(t,e,i,s){return this._x=t,this._y=e,this._z=i,this._w=s,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this._onChangeCallback(),this}setFromEuler(t,e=!0){const i=t._x,s=t._y,n=t._z,r=t._order,o=Math.cos,a=Math.sin,c=o(i/2),u=o(s/2),f=o(n/2),p=a(i/2),y=a(s/2),g=a(n/2);switch(r){case"XYZ":this._x=p*u*f+c*y*g,this._y=c*y*f-p*u*g,this._z=c*u*g+p*y*f,this._w=c*u*f-p*y*g;break;case"YXZ":this._x=p*u*f+c*y*g,this._y=c*y*f-p*u*g,this._z=c*u*g-p*y*f,this._w=c*u*f+p*y*g;break;case"ZXY":this._x=p*u*f-c*y*g,this._y=c*y*f+p*u*g,this._z=c*u*g+p*y*f,this._w=c*u*f-p*y*g;break;case"ZYX":this._x=p*u*f-c*y*g,this._y=c*y*f+p*u*g,this._z=c*u*g-p*y*f,this._w=c*u*f+p*y*g;break;case"YZX":this._x=p*u*f+c*y*g,this._y=c*y*f+p*u*g,this._z=c*u*g-p*y*f,this._w=c*u*f-p*y*g;break;case"XZY":this._x=p*u*f-c*y*g,this._y=c*y*f-p*u*g,this._z=c*u*g+p*y*f,this._w=c*u*f+p*y*g;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+r)}return!0===e&&this._onChangeCallback(),this}setFromAxisAngle(t,e){const i=e/2,s=Math.sin(i);return this._x=t.x*s,this._y=t.y*s,this._z=t.z*s,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(t){const e=t.elements,i=e[0],s=e[4],n=e[8],r=e[1],o=e[5],a=e[9],c=e[2],u=e[6],f=e[10],p=i+o+f;if(p>0){const y=.5/Math.sqrt(p+1);this._w=.25/y,this._x=(u-a)*y,this._y=(n-c)*y,this._z=(r-s)*y}else if(i>o&&i>f){const y=2*Math.sqrt(1+i-o-f);this._w=(u-a)/y,this._x=.25*y,this._y=(s+r)/y,this._z=(n+c)/y}else if(o>f){const y=2*Math.sqrt(1+o-i-f);this._w=(n-c)/y,this._x=(s+r)/y,this._y=.25*y,this._z=(a+u)/y}else{const y=2*Math.sqrt(1+f-i-o);this._w=(r-s)/y,this._x=(n+c)/y,this._y=(a+u)/y,this._z=.25*y}return this._onChangeCallback(),this}setFromUnitVectors(t,e){let i=t.dot(e)+1;return i<Number.EPSILON?(i=0,Math.abs(t.x)>Math.abs(t.z)?(this._x=-t.y,this._y=t.x,this._z=0,this._w=i):(this._x=0,this._y=-t.z,this._z=t.y,this._w=i)):(this._x=t.y*e.z-t.z*e.y,this._y=t.z*e.x-t.x*e.z,this._z=t.x*e.y-t.y*e.x,this._w=i),this.normalize()}angleTo(t){return 2*Math.acos(Math.abs(Vt(this.dot(t),-1,1)))}rotateTowards(t,e){const i=this.angleTo(t);if(0===i)return this;const s=Math.min(1,e/i);return this.slerp(t,s),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let t=this.length();return 0===t?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this._onChangeCallback(),this}multiply(t){return this.multiplyQuaternions(this,t)}premultiply(t){return this.multiplyQuaternions(t,this)}multiplyQuaternions(t,e){const i=t._x,s=t._y,n=t._z,r=t._w,o=e._x,a=e._y,c=e._z,u=e._w;return this._x=i*u+r*o+s*c-n*a,this._y=s*u+r*a+n*o-i*c,this._z=n*u+r*c+i*a-s*o,this._w=r*u-i*o-s*a-n*c,this._onChangeCallback(),this}slerp(t,e){if(0===e)return this;if(1===e)return this.copy(t);const i=this._x,s=this._y,n=this._z,r=this._w;let o=r*t._w+i*t._x+s*t._y+n*t._z;if(o<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,o=-o):this.copy(t),o>=1)return this._w=r,this._x=i,this._y=s,this._z=n,this;const a=1-o*o;if(a<=Number.EPSILON){const y=1-e;return this._w=y*r+e*this._w,this._x=y*i+e*this._x,this._y=y*s+e*this._y,this._z=y*n+e*this._z,this.normalize(),this}const c=Math.sqrt(a),u=Math.atan2(c,o),f=Math.sin((1-e)*u)/c,p=Math.sin(e*u)/c;return this._w=r*f+this._w*p,this._x=i*f+this._x*p,this._y=s*f+this._y*p,this._z=n*f+this._z*p,this._onChangeCallback(),this}slerpQuaternions(t,e,i){return this.copy(t).slerp(e,i)}random(){const t=2*Math.PI*Math.random(),e=2*Math.PI*Math.random(),i=Math.random(),s=Math.sqrt(1-i),n=Math.sqrt(i);return this.set(s*Math.sin(t),s*Math.cos(t),n*Math.sin(e),n*Math.cos(e))}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w}fromArray(t,e=0){return this._x=t[e],this._y=t[e+1],this._z=t[e+2],this._w=t[e+3],this._onChangeCallback(),this}toArray(t=[],e=0){return t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._w,t}fromBufferAttribute(t,e){return this._x=t.getX(e),this._y=t.getY(e),this._z=t.getZ(e),this._w=t.getW(e),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class B{constructor(t=0,e=0,i=0){B.prototype.isVector3=!0,this.x=t,this.y=e,this.z=i}set(t,e,i){return void 0===i&&(i=this.z),this.x=t,this.y=e,this.z=i,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this}add(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this}sub(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this}multiply(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this}multiplyVectors(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this}applyEuler(t){return this.applyQuaternion(dr.setFromEuler(t))}applyAxisAngle(t,e){return this.applyQuaternion(dr.setFromAxisAngle(t,e))}applyMatrix3(t){const e=this.x,i=this.y,s=this.z,n=t.elements;return this.x=n[0]*e+n[3]*i+n[6]*s,this.y=n[1]*e+n[4]*i+n[7]*s,this.z=n[2]*e+n[5]*i+n[8]*s,this}applyNormalMatrix(t){return this.applyMatrix3(t).normalize()}applyMatrix4(t){const e=this.x,i=this.y,s=this.z,n=t.elements,r=1/(n[3]*e+n[7]*i+n[11]*s+n[15]);return this.x=(n[0]*e+n[4]*i+n[8]*s+n[12])*r,this.y=(n[1]*e+n[5]*i+n[9]*s+n[13])*r,this.z=(n[2]*e+n[6]*i+n[10]*s+n[14])*r,this}applyQuaternion(t){const e=this.x,i=this.y,s=this.z,n=t.x,r=t.y,o=t.z,a=t.w,c=2*(r*s-o*i),u=2*(o*e-n*s),f=2*(n*i-r*e);return this.x=e+a*c+r*f-o*u,this.y=i+a*u+o*c-n*f,this.z=s+a*f+n*u-r*c,this}project(t){return this.applyMatrix4(t.matrixWorldInverse).applyMatrix4(t.projectionMatrix)}unproject(t){return this.applyMatrix4(t.projectionMatrixInverse).applyMatrix4(t.matrixWorld)}transformDirection(t){const e=this.x,i=this.y,s=this.z,n=t.elements;return this.x=n[0]*e+n[4]*i+n[8]*s,this.y=n[1]*e+n[5]*i+n[9]*s,this.z=n[2]*e+n[6]*i+n[10]*s,this.normalize()}divide(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this}divideScalar(t){return this.multiplyScalar(1/t)}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this}clamp(t,e){return this.x=Vt(this.x,t.x,e.x),this.y=Vt(this.y,t.y,e.y),this.z=Vt(this.z,t.z,e.z),this}clampScalar(t,e){return this.x=Vt(this.x,t,e),this.y=Vt(this.y,t,e),this.z=Vt(this.z,t,e),this}clampLength(t,e){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Vt(i,t,e))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this}lerpVectors(t,e,i){return this.x=t.x+(e.x-t.x)*i,this.y=t.y+(e.y-t.y)*i,this.z=t.z+(e.z-t.z)*i,this}cross(t){return this.crossVectors(this,t)}crossVectors(t,e){const i=t.x,s=t.y,n=t.z,r=e.x,o=e.y,a=e.z;return this.x=s*a-n*o,this.y=n*r-i*a,this.z=i*o-s*r,this}projectOnVector(t){const e=t.lengthSq();if(0===e)return this.set(0,0,0);const i=t.dot(this)/e;return this.copy(t).multiplyScalar(i)}projectOnPlane(t){return Cn.copy(this).projectOnVector(t),this.sub(Cn)}reflect(t){return this.sub(Cn.copy(t).multiplyScalar(2*this.dot(t)))}angleTo(t){const e=Math.sqrt(this.lengthSq()*t.lengthSq());if(0===e)return Math.PI/2;const i=this.dot(t)/e;return Math.acos(Vt(i,-1,1))}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const e=this.x-t.x,i=this.y-t.y,s=this.z-t.z;return e*e+i*i+s*s}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)}setFromSpherical(t){return this.setFromSphericalCoords(t.radius,t.phi,t.theta)}setFromSphericalCoords(t,e,i){const s=Math.sin(e)*t;return this.x=s*Math.sin(i),this.y=Math.cos(e)*t,this.z=s*Math.cos(i),this}setFromCylindrical(t){return this.setFromCylindricalCoords(t.radius,t.theta,t.y)}setFromCylindricalCoords(t,e,i){return this.x=t*Math.sin(e),this.y=i,this.z=t*Math.cos(e),this}setFromMatrixPosition(t){const e=t.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this}setFromMatrixScale(t){const e=this.setFromMatrixColumn(t,0).length(),i=this.setFromMatrixColumn(t,1).length(),s=this.setFromMatrixColumn(t,2).length();return this.x=e,this.y=i,this.z=s,this}setFromMatrixColumn(t,e){return this.fromArray(t.elements,4*e)}setFromMatrix3Column(t,e){return this.fromArray(t.elements,3*e)}setFromEuler(t){return this.x=t._x,this.y=t._y,this.z=t._z,this}setFromColor(t){return this.x=t.r,this.y=t.g,this.z=t.b,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t}fromBufferAttribute(t,e){return this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const t=Math.random()*Math.PI*2,e=2*Math.random()-1,i=Math.sqrt(1-e*e);return this.x=i*Math.cos(t),this.y=e,this.z=i*Math.sin(t),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const Cn=new B,dr=new Be;class ai{constructor(t,e,i,s,n,r,o,a,c){ai.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],void 0!==t&&this.set(t,e,i,s,n,r,o,a,c)}set(t,e,i,s,n,r,o,a,c){const u=this.elements;return u[0]=t,u[1]=s,u[2]=o,u[3]=e,u[4]=n,u[5]=a,u[6]=i,u[7]=r,u[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(t){const e=this.elements,i=t.elements;return e[0]=i[0],e[1]=i[1],e[2]=i[2],e[3]=i[3],e[4]=i[4],e[5]=i[5],e[6]=i[6],e[7]=i[7],e[8]=i[8],this}extractBasis(t,e,i){return t.setFromMatrix3Column(this,0),e.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(t){const e=t.elements;return this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,e){const i=t.elements,s=e.elements,n=this.elements,r=i[0],o=i[3],a=i[6],c=i[1],u=i[4],f=i[7],p=i[2],y=i[5],g=i[8],v=s[0],C=s[3],P=s[6],z=s[1],F=s[4],D=s[7],Z=s[2],Q=s[5],ct=s[8];return n[0]=r*v+o*z+a*Z,n[3]=r*C+o*F+a*Q,n[6]=r*P+o*D+a*ct,n[1]=c*v+u*z+f*Z,n[4]=c*C+u*F+f*Q,n[7]=c*P+u*D+f*ct,n[2]=p*v+y*z+g*Z,n[5]=p*C+y*F+g*Q,n[8]=p*P+y*D+g*ct,this}multiplyScalar(t){const e=this.elements;return e[0]*=t,e[3]*=t,e[6]*=t,e[1]*=t,e[4]*=t,e[7]*=t,e[2]*=t,e[5]*=t,e[8]*=t,this}determinant(){const t=this.elements,e=t[0],i=t[1],s=t[2],n=t[3],r=t[4],o=t[5],a=t[6],c=t[7],u=t[8];return e*r*u-e*o*c-i*n*u+i*o*a+s*n*c-s*r*a}invert(){const t=this.elements,e=t[0],i=t[1],s=t[2],n=t[3],r=t[4],o=t[5],a=t[6],c=t[7],u=t[8],f=u*r-o*c,p=o*a-u*n,y=c*n-r*a,g=e*f+i*p+s*y;if(0===g)return this.set(0,0,0,0,0,0,0,0,0);const v=1/g;return t[0]=f*v,t[1]=(s*c-u*i)*v,t[2]=(o*i-s*r)*v,t[3]=p*v,t[4]=(u*e-s*a)*v,t[5]=(s*n-o*e)*v,t[6]=y*v,t[7]=(i*a-c*e)*v,t[8]=(r*e-i*n)*v,this}transpose(){let t;const e=this.elements;return t=e[1],e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this}getNormalMatrix(t){return this.setFromMatrix4(t).invert().transpose()}transposeIntoArray(t){const e=this.elements;return t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],this}setUvTransform(t,e,i,s,n,r,o){const a=Math.cos(n),c=Math.sin(n);return this.set(i*a,i*c,-i*(a*r+c*o)+r+t,-s*c,s*a,-s*(-c*r+a*o)+o+e,0,0,1),this}scale(t,e){return this.premultiply(In.makeScale(t,e)),this}rotate(t){return this.premultiply(In.makeRotation(-t)),this}translate(t,e){return this.premultiply(In.makeTranslation(t,e)),this}makeTranslation(t,e){return t.isVector2?this.set(1,0,t.x,0,1,t.y,0,0,1):this.set(1,0,t,0,1,e,0,0,1),this}makeRotation(t){const e=Math.cos(t),i=Math.sin(t);return this.set(e,-i,0,i,e,0,0,0,1),this}makeScale(t,e){return this.set(t,0,0,0,e,0,0,0,1),this}equals(t){const e=this.elements,i=t.elements;for(let s=0;s<9;s++)if(e[s]!==i[s])return!1;return!0}fromArray(t,e=0){for(let i=0;i<9;i++)this.elements[i]=t[i+e];return this}toArray(t=[],e=0){const i=this.elements;return t[e]=i[0],t[e+1]=i[1],t[e+2]=i[2],t[e+3]=i[3],t[e+4]=i[4],t[e+5]=i[5],t[e+6]=i[6],t[e+7]=i[7],t[e+8]=i[8],t}clone(){return(new this.constructor).fromArray(this.elements)}}const In=new ai;Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array;const fr={};function pr(h){h in fr||(fr[h]=!0,console.warn(h))}const ya=(new ai).set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),ys=(new ai).set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function mr(){const h={enabled:!0,workingColorSpace:or,spaces:{},convert:function(s,n,r){return!1===this.enabled||n===r||!n||!r||(this.spaces[n].transfer===Sn&&(s.r=Mi(s.r),s.g=Mi(s.g),s.b=Mi(s.b)),this.spaces[n].primaries!==this.spaces[r].primaries&&(s.applyMatrix3(this.spaces[n].toXYZ),s.applyMatrix3(this.spaces[r].fromXYZ)),this.spaces[r].transfer===Sn&&(s.r=Ki(s.r),s.g=Ki(s.g),s.b=Ki(s.b))),s},workingToColorSpace:function(s,n){return this.convert(s,this.workingColorSpace,n)},colorSpaceToWorking:function(s,n){return this.convert(s,n,this.workingColorSpace)},getPrimaries:function(s){return this.spaces[s].primaries},getTransfer:function(s){return""===s?"linear":this.spaces[s].transfer},getLuminanceCoefficients:function(s,n=this.workingColorSpace){return s.fromArray(this.spaces[n].luminanceCoefficients)},define:function(s){Object.assign(this.spaces,s)},_getMatrix:function(s,n,r){return s.copy(this.spaces[n].toXYZ).multiply(this.spaces[r].fromXYZ)},_getDrawingBufferColorSpace:function(s){return this.spaces[s].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(s=this.workingColorSpace){return this.spaces[s].workingColorSpaceConfig.unpackColorSpace},fromWorkingColorSpace:function(s,n){return pr("THREE.ColorManagement: .fromWorkingColorSpace() has been renamed to .workingToColorSpace()."),h.workingToColorSpace(s,n)},toWorkingColorSpace:function(s,n){return pr("THREE.ColorManagement: .toWorkingColorSpace() has been renamed to .colorSpaceToWorking()."),h.colorSpaceToWorking(s,n)}},t=[.64,.33,.3,.6,.15,.06],e=[.2126,.7152,.0722],i=[.3127,.329];return h.define({[or]:{primaries:t,whitePoint:i,transfer:"linear",toXYZ:ya,fromXYZ:ys,luminanceCoefficients:e,workingColorSpaceConfig:{unpackColorSpace:$e},outputColorSpaceConfig:{drawingBufferColorSpace:$e}},[$e]:{primaries:t,whitePoint:i,transfer:Sn,toXYZ:ya,fromXYZ:ys,luminanceCoefficients:e,outputColorSpaceConfig:{drawingBufferColorSpace:$e}}}),h}const He=mr();function Mi(h){return h<.04045?.0773993808*h:Math.pow(.9478672986*h+.0521327014,2.4)}function Ki(h){return h<.0031308?12.92*h:1.055*Math.pow(h,.41666)-.055}Symbol;class $t{constructor(t,e,i,s,n,r,o,a,c,u,f,p,y,g,v,C){$t.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],void 0!==t&&this.set(t,e,i,s,n,r,o,a,c,u,f,p,y,g,v,C)}set(t,e,i,s,n,r,o,a,c,u,f,p,y,g,v,C){const P=this.elements;return P[0]=t,P[4]=e,P[8]=i,P[12]=s,P[1]=n,P[5]=r,P[9]=o,P[13]=a,P[2]=c,P[6]=u,P[10]=f,P[14]=p,P[3]=y,P[7]=g,P[11]=v,P[15]=C,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return(new $t).fromArray(this.elements)}copy(t){const e=this.elements,i=t.elements;return e[0]=i[0],e[1]=i[1],e[2]=i[2],e[3]=i[3],e[4]=i[4],e[5]=i[5],e[6]=i[6],e[7]=i[7],e[8]=i[8],e[9]=i[9],e[10]=i[10],e[11]=i[11],e[12]=i[12],e[13]=i[13],e[14]=i[14],e[15]=i[15],this}copyPosition(t){const e=this.elements,i=t.elements;return e[12]=i[12],e[13]=i[13],e[14]=i[14],this}setFromMatrix3(t){const e=t.elements;return this.set(e[0],e[3],e[6],0,e[1],e[4],e[7],0,e[2],e[5],e[8],0,0,0,0,1),this}extractBasis(t,e,i){return t.setFromMatrixColumn(this,0),e.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(t,e,i){return this.set(t.x,e.x,i.x,0,t.y,e.y,i.y,0,t.z,e.z,i.z,0,0,0,0,1),this}extractRotation(t){const e=this.elements,i=t.elements,s=1/Qs.setFromMatrixColumn(t,0).length(),n=1/Qs.setFromMatrixColumn(t,1).length(),r=1/Qs.setFromMatrixColumn(t,2).length();return e[0]=i[0]*s,e[1]=i[1]*s,e[2]=i[2]*s,e[3]=0,e[4]=i[4]*n,e[5]=i[5]*n,e[6]=i[6]*n,e[7]=0,e[8]=i[8]*r,e[9]=i[9]*r,e[10]=i[10]*r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}makeRotationFromEuler(t){const e=this.elements,i=t.x,s=t.y,n=t.z,r=Math.cos(i),o=Math.sin(i),a=Math.cos(s),c=Math.sin(s),u=Math.cos(n),f=Math.sin(n);if("XYZ"===t.order){const p=r*u,y=r*f,g=o*u,v=o*f;e[0]=a*u,e[4]=-a*f,e[8]=c,e[1]=y+g*c,e[5]=p-v*c,e[9]=-o*a,e[2]=v-p*c,e[6]=g+y*c,e[10]=r*a}else if("YXZ"===t.order){const p=a*u,y=a*f,g=c*u,v=c*f;e[0]=p+v*o,e[4]=g*o-y,e[8]=r*c,e[1]=r*f,e[5]=r*u,e[9]=-o,e[2]=y*o-g,e[6]=v+p*o,e[10]=r*a}else if("ZXY"===t.order){const p=a*u,y=a*f,g=c*u,v=c*f;e[0]=p-v*o,e[4]=-r*f,e[8]=g+y*o,e[1]=y+g*o,e[5]=r*u,e[9]=v-p*o,e[2]=-r*c,e[6]=o,e[10]=r*a}else if("ZYX"===t.order){const p=r*u,y=r*f,g=o*u,v=o*f;e[0]=a*u,e[4]=g*c-y,e[8]=p*c+v,e[1]=a*f,e[5]=v*c+p,e[9]=y*c-g,e[2]=-c,e[6]=o*a,e[10]=r*a}else if("YZX"===t.order){const p=r*a,y=r*c,g=o*a,v=o*c;e[0]=a*u,e[4]=v-p*f,e[8]=g*f+y,e[1]=f,e[5]=r*u,e[9]=-o*u,e[2]=-c*u,e[6]=y*f+g,e[10]=p-v*f}else if("XZY"===t.order){const p=r*a,y=r*c,g=o*a,v=o*c;e[0]=a*u,e[4]=-f,e[8]=c*u,e[1]=p*f+v,e[5]=r*u,e[9]=y*f-g,e[2]=g*f-y,e[6]=o*u,e[10]=v*f+p}return e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}makeRotationFromQuaternion(t){return this.compose(gu,t,xu)}lookAt(t,e,i){const s=this.elements;return Qe.subVectors(t,e),0===Qe.lengthSq()&&(Qe.z=1),Qe.normalize(),is.crossVectors(i,Qe),0===is.lengthSq()&&(1===Math.abs(i.z)?Qe.x+=1e-4:Qe.z+=1e-4,Qe.normalize(),is.crossVectors(i,Qe)),is.normalize(),wr.crossVectors(Qe,is),s[0]=is.x,s[4]=wr.x,s[8]=Qe.x,s[1]=is.y,s[5]=wr.y,s[9]=Qe.y,s[2]=is.z,s[6]=wr.z,s[10]=Qe.z,this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,e){const i=t.elements,s=e.elements,n=this.elements,r=i[0],o=i[4],a=i[8],c=i[12],u=i[1],f=i[5],p=i[9],y=i[13],g=i[2],v=i[6],C=i[10],P=i[14],z=i[3],F=i[7],D=i[11],Z=i[15],Q=s[0],ct=s[4],rt=s[8],wt=s[12],vt=s[1],Dt=s[5],Ht=s[9],Qt=s[13],ce=s[2],ae=s[6],Ae=s[10],Fe=s[14],xi=s[3],be=s[7],Se=s[11],_e=s[15];return n[0]=r*Q+o*vt+a*ce+c*xi,n[4]=r*ct+o*Dt+a*ae+c*be,n[8]=r*rt+o*Ht+a*Ae+c*Se,n[12]=r*wt+o*Qt+a*Fe+c*_e,n[1]=u*Q+f*vt+p*ce+y*xi,n[5]=u*ct+f*Dt+p*ae+y*be,n[9]=u*rt+f*Ht+p*Ae+y*Se,n[13]=u*wt+f*Qt+p*Fe+y*_e,n[2]=g*Q+v*vt+C*ce+P*xi,n[6]=g*ct+v*Dt+C*ae+P*be,n[10]=g*rt+v*Ht+C*Ae+P*Se,n[14]=g*wt+v*Qt+C*Fe+P*_e,n[3]=z*Q+F*vt+D*ce+Z*xi,n[7]=z*ct+F*Dt+D*ae+Z*be,n[11]=z*rt+F*Ht+D*Ae+Z*Se,n[15]=z*wt+F*Qt+D*Fe+Z*_e,this}multiplyScalar(t){const e=this.elements;return e[0]*=t,e[4]*=t,e[8]*=t,e[12]*=t,e[1]*=t,e[5]*=t,e[9]*=t,e[13]*=t,e[2]*=t,e[6]*=t,e[10]*=t,e[14]*=t,e[3]*=t,e[7]*=t,e[11]*=t,e[15]*=t,this}determinant(){const t=this.elements,e=t[0],i=t[4],s=t[8],n=t[12],r=t[1],o=t[5],a=t[9],c=t[13],u=t[2],f=t[6],p=t[10],y=t[14];return t[3]*(+n*a*f-s*c*f-n*o*p+i*c*p+s*o*y-i*a*y)+t[7]*(+e*a*y-e*c*p+n*r*p-s*r*y+s*c*u-n*a*u)+t[11]*(+e*c*f-e*o*y-n*r*f+i*r*y+n*o*u-i*c*u)+t[15]*(-s*o*u-e*a*f+e*o*p+s*r*f-i*r*p+i*a*u)}transpose(){const t=this.elements;let e;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this}setPosition(t,e,i){const s=this.elements;return t.isVector3?(s[12]=t.x,s[13]=t.y,s[14]=t.z):(s[12]=t,s[13]=e,s[14]=i),this}invert(){const t=this.elements,e=t[0],i=t[1],s=t[2],n=t[3],r=t[4],o=t[5],a=t[6],c=t[7],u=t[8],f=t[9],p=t[10],y=t[11],g=t[12],v=t[13],C=t[14],P=t[15],z=f*C*c-v*p*c+v*a*y-o*C*y-f*a*P+o*p*P,F=g*p*c-u*C*c-g*a*y+r*C*y+u*a*P-r*p*P,D=u*v*c-g*f*c+g*o*y-r*v*y-u*o*P+r*f*P,Z=g*f*a-u*v*a-g*o*p+r*v*p+u*o*C-r*f*C,Q=e*z+i*F+s*D+n*Z;if(0===Q)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const ct=1/Q;return t[0]=z*ct,t[1]=(v*p*n-f*C*n-v*s*y+i*C*y+f*s*P-i*p*P)*ct,t[2]=(o*C*n-v*a*n+v*s*c-i*C*c-o*s*P+i*a*P)*ct,t[3]=(f*a*n-o*p*n-f*s*c+i*p*c+o*s*y-i*a*y)*ct,t[4]=F*ct,t[5]=(u*C*n-g*p*n+g*s*y-e*C*y-u*s*P+e*p*P)*ct,t[6]=(g*a*n-r*C*n-g*s*c+e*C*c+r*s*P-e*a*P)*ct,t[7]=(r*p*n-u*a*n+u*s*c-e*p*c-r*s*y+e*a*y)*ct,t[8]=D*ct,t[9]=(g*f*n-u*v*n-g*i*y+e*v*y+u*i*P-e*f*P)*ct,t[10]=(r*v*n-g*o*n+g*i*c-e*v*c-r*i*P+e*o*P)*ct,t[11]=(u*o*n-r*f*n-u*i*c+e*f*c+r*i*y-e*o*y)*ct,t[12]=Z*ct,t[13]=(u*v*s-g*f*s+g*i*p-e*v*p-u*i*C+e*f*C)*ct,t[14]=(g*o*s-r*v*s-g*i*a+e*v*a+r*i*C-e*o*C)*ct,t[15]=(r*f*s-u*o*s+u*i*a-e*f*a-r*i*p+e*o*p)*ct,this}scale(t){const e=this.elements,i=t.x,s=t.y,n=t.z;return e[0]*=i,e[4]*=s,e[8]*=n,e[1]*=i,e[5]*=s,e[9]*=n,e[2]*=i,e[6]*=s,e[10]*=n,e[3]*=i,e[7]*=s,e[11]*=n,this}getMaxScaleOnAxis(){const t=this.elements;return Math.sqrt(Math.max(t[0]*t[0]+t[1]*t[1]+t[2]*t[2],t[4]*t[4]+t[5]*t[5]+t[6]*t[6],t[8]*t[8]+t[9]*t[9]+t[10]*t[10]))}makeTranslation(t,e,i){return t.isVector3?this.set(1,0,0,t.x,0,1,0,t.y,0,0,1,t.z,0,0,0,1):this.set(1,0,0,t,0,1,0,e,0,0,1,i,0,0,0,1),this}makeRotationX(t){const e=Math.cos(t),i=Math.sin(t);return this.set(1,0,0,0,0,e,-i,0,0,i,e,0,0,0,0,1),this}makeRotationY(t){const e=Math.cos(t),i=Math.sin(t);return this.set(e,0,i,0,0,1,0,0,-i,0,e,0,0,0,0,1),this}makeRotationZ(t){const e=Math.cos(t),i=Math.sin(t);return this.set(e,-i,0,0,i,e,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(t,e){const i=Math.cos(e),s=Math.sin(e),n=1-i,r=t.x,o=t.y,a=t.z,c=n*r,u=n*o;return this.set(c*r+i,c*o-s*a,c*a+s*o,0,c*o+s*a,u*o+i,u*a-s*r,0,c*a-s*o,u*a+s*r,n*a*a+i,0,0,0,0,1),this}makeScale(t,e,i){return this.set(t,0,0,0,0,e,0,0,0,0,i,0,0,0,0,1),this}makeShear(t,e,i,s,n,r){return this.set(1,i,n,0,t,1,r,0,e,s,1,0,0,0,0,1),this}compose(t,e,i){const s=this.elements,n=e._x,r=e._y,o=e._z,a=e._w,c=n+n,u=r+r,f=o+o,p=n*c,y=n*u,g=n*f,v=r*u,C=r*f,P=o*f,z=a*c,F=a*u,D=a*f,Z=i.x,Q=i.y,ct=i.z;return s[0]=(1-(v+P))*Z,s[1]=(y+D)*Z,s[2]=(g-F)*Z,s[3]=0,s[4]=(y-D)*Q,s[5]=(1-(p+P))*Q,s[6]=(C+z)*Q,s[7]=0,s[8]=(g+F)*ct,s[9]=(C-z)*ct,s[10]=(1-(p+v))*ct,s[11]=0,s[12]=t.x,s[13]=t.y,s[14]=t.z,s[15]=1,this}decompose(t,e,i){const s=this.elements;let n=Qs.set(s[0],s[1],s[2]).length();const r=Qs.set(s[4],s[5],s[6]).length(),o=Qs.set(s[8],s[9],s[10]).length();this.determinant()<0&&(n=-n),t.x=s[12],t.y=s[13],t.z=s[14],pi.copy(this);const c=1/n,u=1/r,f=1/o;return pi.elements[0]*=c,pi.elements[1]*=c,pi.elements[2]*=c,pi.elements[4]*=u,pi.elements[5]*=u,pi.elements[6]*=u,pi.elements[8]*=f,pi.elements[9]*=f,pi.elements[10]*=f,e.setFromRotationMatrix(pi),i.x=n,i.y=r,i.z=o,this}makePerspective(t,e,i,s,n,r,o=2e3){const a=this.elements,c=2*n/(e-t),u=2*n/(i-s),f=(e+t)/(e-t),p=(i+s)/(i-s);let y,g;if(2e3===o)y=-(r+n)/(r-n),g=-2*r*n/(r-n);else{if(2001!==o)throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+o);y=-r/(r-n),g=-r*n/(r-n)}return a[0]=c,a[4]=0,a[8]=f,a[12]=0,a[1]=0,a[5]=u,a[9]=p,a[13]=0,a[2]=0,a[6]=0,a[10]=y,a[14]=g,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this}makeOrthographic(t,e,i,s,n,r,o=2e3){const a=this.elements,c=1/(e-t),u=1/(i-s),f=1/(r-n),p=(e+t)*c,y=(i+s)*u;let g,v;if(2e3===o)g=(r+n)*f,v=-2*f;else{if(2001!==o)throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+o);g=n*f,v=-1*f}return a[0]=2*c,a[4]=0,a[8]=0,a[12]=-p,a[1]=0,a[5]=2*u,a[9]=0,a[13]=-y,a[2]=0,a[6]=0,a[10]=v,a[14]=-g,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this}equals(t){const e=this.elements,i=t.elements;for(let s=0;s<16;s++)if(e[s]!==i[s])return!1;return!0}fromArray(t,e=0){for(let i=0;i<16;i++)this.elements[i]=t[i+e];return this}toArray(t=[],e=0){const i=this.elements;return t[e]=i[0],t[e+1]=i[1],t[e+2]=i[2],t[e+3]=i[3],t[e+4]=i[4],t[e+5]=i[5],t[e+6]=i[6],t[e+7]=i[7],t[e+8]=i[8],t[e+9]=i[9],t[e+10]=i[10],t[e+11]=i[11],t[e+12]=i[12],t[e+13]=i[13],t[e+14]=i[14],t[e+15]=i[15],t}}const Qs=new B,pi=new $t,gu=new B(0,0,0),xu=new B(1,1,1),is=new B,wr=new B,Qe=new B,Eh=new $t,Th=new Be;let ss=(()=>{class h{constructor(e=0,i=0,s=0,n=h.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=i,this._z=s,this._order=n}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,i,s,n=this._order){return this._x=e,this._y=i,this._z=s,this._order=n,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,i=this._order,s=!0){const n=e.elements,r=n[0],o=n[4],a=n[8],c=n[1],u=n[5],f=n[9],p=n[2],y=n[6],g=n[10];switch(i){case"XYZ":this._y=Math.asin(Vt(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-f,g),this._z=Math.atan2(-o,r)):(this._x=Math.atan2(y,u),this._z=0);break;case"YXZ":this._x=Math.asin(-Vt(f,-1,1)),Math.abs(f)<.9999999?(this._y=Math.atan2(a,g),this._z=Math.atan2(c,u)):(this._y=Math.atan2(-p,r),this._z=0);break;case"ZXY":this._x=Math.asin(Vt(y,-1,1)),Math.abs(y)<.9999999?(this._y=Math.atan2(-p,g),this._z=Math.atan2(-o,u)):(this._y=0,this._z=Math.atan2(c,r));break;case"ZYX":this._y=Math.asin(-Vt(p,-1,1)),Math.abs(p)<.9999999?(this._x=Math.atan2(y,g),this._z=Math.atan2(c,r)):(this._x=0,this._z=Math.atan2(-o,u));break;case"YZX":this._z=Math.asin(Vt(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(-f,u),this._y=Math.atan2(-p,r)):(this._x=0,this._y=Math.atan2(a,g));break;case"XZY":this._z=Math.asin(-Vt(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(y,u),this._y=Math.atan2(a,r)):(this._x=Math.atan2(-f,g),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+i)}return this._order=i,!0===s&&this._onChangeCallback(),this}setFromQuaternion(e,i,s){return Eh.makeRotationFromQuaternion(e),this.setFromRotationMatrix(Eh,i,s)}setFromVector3(e,i=this._order){return this.set(e.x,e.y,e.z,i)}reorder(e){return Th.setFromEuler(this),this.setFromQuaternion(Th,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],i=0){return e[i]=this._x,e[i+1]=this._y,e[i+2]=this._z,e[i+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}return h.DEFAULT_ORDER="XYZ",h})();const Bh={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},ns={h:0,s:0,l:0},vr={h:0,s:0,l:0};function Oa(h,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?h+6*(t-h)*e:e<.5?t:e<2/3?h+6*(t-h)*(2/3-e):h}class Wt{constructor(t,e,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(t,e,i)}set(t,e,i){if(void 0===e&&void 0===i){const s=t;s&&s.isColor?this.copy(s):"number"==typeof s?this.setHex(s):"string"==typeof s&&this.setStyle(s)}else this.setRGB(t,e,i);return this}setScalar(t){return this.r=t,this.g=t,this.b=t,this}setHex(t,e=$e){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(255&t)/255,He.colorSpaceToWorking(this,e),this}setRGB(t,e,i,s=He.workingColorSpace){return this.r=t,this.g=e,this.b=i,He.colorSpaceToWorking(this,s),this}setHSL(t,e,i,s=He.workingColorSpace){if(t=function Js(h,t){return(h%t+t)%t}(t,1),e=Vt(e,0,1),i=Vt(i,0,1),0===e)this.r=this.g=this.b=i;else{const n=i<=.5?i*(1+e):i+e-i*e,r=2*i-n;this.r=Oa(r,n,t+1/3),this.g=Oa(r,n,t),this.b=Oa(r,n,t-1/3)}return He.colorSpaceToWorking(this,s),this}setStyle(t,e=$e){function i(n){void 0!==n&&parseFloat(n)<1&&console.warn("THREE.Color: Alpha component of "+t+" will be ignored.")}let s;if(s=/^(\w+)\(([^\)]*)\)/.exec(t)){let n;const o=s[2];switch(s[1]){case"rgb":case"rgba":if(n=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return i(n[4]),this.setRGB(Math.min(255,parseInt(n[1],10))/255,Math.min(255,parseInt(n[2],10))/255,Math.min(255,parseInt(n[3],10))/255,e);if(n=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return i(n[4]),this.setRGB(Math.min(100,parseInt(n[1],10))/100,Math.min(100,parseInt(n[2],10))/100,Math.min(100,parseInt(n[3],10))/100,e);break;case"hsl":case"hsla":if(n=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return i(n[4]),this.setHSL(parseFloat(n[1])/360,parseFloat(n[2])/100,parseFloat(n[3])/100,e);break;default:console.warn("THREE.Color: Unknown color model "+t)}}else if(s=/^\#([A-Fa-f\d]+)$/.exec(t)){const n=s[1],r=n.length;if(3===r)return this.setRGB(parseInt(n.charAt(0),16)/15,parseInt(n.charAt(1),16)/15,parseInt(n.charAt(2),16)/15,e);if(6===r)return this.setHex(parseInt(n,16),e);console.warn("THREE.Color: Invalid hex color "+t)}else if(t&&t.length>0)return this.setColorName(t,e);return this}setColorName(t,e=$e){const i=Bh[t.toLowerCase()];return void 0!==i?this.setHex(i,e):console.warn("THREE.Color: Unknown color "+t),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(t){return this.r=t.r,this.g=t.g,this.b=t.b,this}copySRGBToLinear(t){return this.r=Mi(t.r),this.g=Mi(t.g),this.b=Mi(t.b),this}copyLinearToSRGB(t){return this.r=Ki(t.r),this.g=Ki(t.g),this.b=Ki(t.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(t=$e){return He.workingToColorSpace(Ue.copy(this),t),65536*Math.round(Vt(255*Ue.r,0,255))+256*Math.round(Vt(255*Ue.g,0,255))+Math.round(Vt(255*Ue.b,0,255))}getHexString(t=$e){return("000000"+this.getHex(t).toString(16)).slice(-6)}getHSL(t,e=He.workingColorSpace){He.workingToColorSpace(Ue.copy(this),e);const i=Ue.r,s=Ue.g,n=Ue.b,r=Math.max(i,s,n),o=Math.min(i,s,n);let a,c;const u=(o+r)/2;if(o===r)a=0,c=0;else{const f=r-o;switch(c=u<=.5?f/(r+o):f/(2-r-o),r){case i:a=(s-n)/f+(s<n?6:0);break;case s:a=(n-i)/f+2;break;case n:a=(i-s)/f+4}a/=6}return t.h=a,t.s=c,t.l=u,t}getRGB(t,e=He.workingColorSpace){return He.workingToColorSpace(Ue.copy(this),e),t.r=Ue.r,t.g=Ue.g,t.b=Ue.b,t}getStyle(t=$e){He.workingToColorSpace(Ue.copy(this),t);const e=Ue.r,i=Ue.g,s=Ue.b;return t!==$e?`color(${t} ${e.toFixed(3)} ${i.toFixed(3)} ${s.toFixed(3)})`:`rgb(${Math.round(255*e)},${Math.round(255*i)},${Math.round(255*s)})`}offsetHSL(t,e,i){return this.getHSL(ns),this.setHSL(ns.h+t,ns.s+e,ns.l+i)}add(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this}addColors(t,e){return this.r=t.r+e.r,this.g=t.g+e.g,this.b=t.b+e.b,this}addScalar(t){return this.r+=t,this.g+=t,this.b+=t,this}sub(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this}multiply(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this}multiplyScalar(t){return this.r*=t,this.g*=t,this.b*=t,this}lerp(t,e){return this.r+=(t.r-this.r)*e,this.g+=(t.g-this.g)*e,this.b+=(t.b-this.b)*e,this}lerpColors(t,e,i){return this.r=t.r+(e.r-t.r)*i,this.g=t.g+(e.g-t.g)*i,this.b=t.b+(e.b-t.b)*i,this}lerpHSL(t,e){this.getHSL(ns),t.getHSL(vr);const i=ms(ns.h,vr.h,e),s=ms(ns.s,vr.s,e),n=ms(ns.l,vr.l,e);return this.setHSL(i,s,n),this}setFromVector3(t){return this.r=t.x,this.g=t.y,this.b=t.z,this}applyMatrix3(t){const e=this.r,i=this.g,s=this.b,n=t.elements;return this.r=n[0]*e+n[3]*i+n[6]*s,this.g=n[1]*e+n[4]*i+n[7]*s,this.b=n[2]*e+n[5]*i+n[8]*s,this}equals(t){return t.r===this.r&&t.g===this.g&&t.b===this.b}fromArray(t,e=0){return this.r=t[e],this.g=t[e+1],this.b=t[e+2],this}toArray(t=[],e=0){return t[e]=this.r,t[e+1]=this.g,t[e+2]=this.b,t}fromBufferAttribute(t,e){return this.r=t.getX(e),this.g=t.getY(e),this.b=t.getZ(e),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Ue=new Wt;function Es(h,t){return h&&h.constructor!==t?"number"==typeof t.BYTES_PER_ELEMENT?new t(h):Array.prototype.slice.call(h):h}Wt.NAMES=Bh;class oo{constructor(t,e,i,s){this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=void 0!==s?s:new e.constructor(i),this.sampleValues=e,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(t){const e=this.parameterPositions;let i=this._cachedIndex,s=e[i],n=e[i-1];t:{e:{let r;i:{s:if(!(t<s)){for(let o=i+2;;){if(void 0===s){if(t<n)break s;return i=e.length,this._cachedIndex=i,this.copySampleValue_(i-1)}if(i===o)break;if(n=s,s=e[++i],t<s)break e}r=e.length;break i}if(t>=n)break t;{const o=e[1];t<o&&(i=2,n=o);for(let a=i-2;;){if(void 0===n)return this._cachedIndex=0,this.copySampleValue_(0);if(i===a)break;if(s=n,n=e[--i-1],t>=n)break e}r=i,i=0}}for(;i<r;){const o=i+r>>>1;t<e[o]?r=o:i=o+1}if(s=e[i],n=e[i-1],void 0===n)return this._cachedIndex=0,this.copySampleValue_(0);if(void 0===s)return i=e.length,this._cachedIndex=i,this.copySampleValue_(i-1)}this._cachedIndex=i,this.intervalChanged_(i,n,s)}return this.interpolate_(i,n,t,s)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(t){const e=this.resultBuffer,i=this.sampleValues,s=this.valueSize,n=t*s;for(let r=0;r!==s;++r)e[r]=i[n+r];return e}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class Kd extends oo{constructor(t,e,i,s){super(t,e,i,s),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:2400,endingEnd:2400}}intervalChanged_(t,e,i){const s=this.parameterPositions;let n=t-2,r=t+1,o=s[n],a=s[r];if(void 0===o)switch(this.getSettings_().endingStart){case 2401:n=t,o=2*e-i;break;case 2402:n=s.length-2,o=e+s[n]-s[n+1];break;default:n=t,o=i}if(void 0===a)switch(this.getSettings_().endingEnd){case 2401:r=t,a=2*i-e;break;case 2402:r=1,a=i+s[1]-s[0];break;default:r=t-1,a=e}const c=.5*(i-e),u=this.valueSize;this._weightPrev=c/(e-o),this._weightNext=c/(a-i),this._offsetPrev=n*u,this._offsetNext=r*u}interpolate_(t,e,i,s){const n=this.resultBuffer,r=this.sampleValues,o=this.valueSize,a=t*o,c=a-o,u=this._offsetPrev,f=this._offsetNext,p=this._weightPrev,y=this._weightNext,g=(i-e)/(s-e),v=g*g,C=v*g,P=-p*C+2*p*v-p*g,z=(1+p)*C+(-1.5-2*p)*v+(-.5+p)*g+1,F=(-1-y)*C+(1.5+y)*v+.5*g,D=y*C-y*v;for(let Z=0;Z!==o;++Z)n[Z]=P*r[u+Z]+z*r[c+Z]+F*r[a+Z]+D*r[f+Z];return n}}class Cl extends oo{constructor(t,e,i,s){super(t,e,i,s)}interpolate_(t,e,i,s){const n=this.resultBuffer,r=this.sampleValues,o=this.valueSize,a=t*o,c=a-o,u=(i-e)/(s-e),f=1-u;for(let p=0;p!==o;++p)n[p]=r[c+p]*f+r[a+p]*u;return n}}class qd extends oo{constructor(t,e,i,s){super(t,e,i,s)}interpolate_(t){return this.copySampleValue_(t-1)}}class gi{constructor(t,e,i,s){if(void 0===t)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===e||0===e.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+t);this.name=t,this.times=Es(e,this.TimeBufferType),this.values=Es(i,this.ValueBufferType),this.setInterpolation(s||this.DefaultInterpolation)}static toJSON(t){const e=t.constructor;let i;if(e.toJSON!==this.toJSON)i=e.toJSON(t);else{i={name:t.name,times:Es(t.times,Array),values:Es(t.values,Array)};const s=t.getInterpolation();s!==t.DefaultInterpolation&&(i.interpolation=s)}return i.type=t.ValueTypeName,i}InterpolantFactoryMethodDiscrete(t){return new qd(this.times,this.values,this.getValueSize(),t)}InterpolantFactoryMethodLinear(t){return new Cl(this.times,this.values,this.getValueSize(),t)}InterpolantFactoryMethodSmooth(t){return new Kd(this.times,this.values,this.getValueSize(),t)}setInterpolation(t){let e;switch(t){case 2300:e=this.InterpolantFactoryMethodDiscrete;break;case 2301:e=this.InterpolantFactoryMethodLinear;break;case 2302:e=this.InterpolantFactoryMethodSmooth}if(void 0===e){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(t===this.DefaultInterpolation)throw new Error(i);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=e,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return 2300;case this.InterpolantFactoryMethodLinear:return 2301;case this.InterpolantFactoryMethodSmooth:return 2302}}getValueSize(){return this.values.length/this.times.length}shift(t){if(0!==t){const e=this.times;for(let i=0,s=e.length;i!==s;++i)e[i]+=t}return this}scale(t){if(1!==t){const e=this.times;for(let i=0,s=e.length;i!==s;++i)e[i]*=t}return this}trim(t,e){const i=this.times,s=i.length;let n=0,r=s-1;for(;n!==s&&i[n]<t;)++n;for(;-1!==r&&i[r]>e;)--r;if(++r,0!==n||r!==s){n>=r&&(r=Math.max(r,1),n=r-1);const o=this.getValueSize();this.times=i.slice(n,r),this.values=this.values.slice(n*o,r*o)}return this}validate(){let t=!0;const e=this.getValueSize();e-Math.floor(e)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),t=!1);const i=this.times,s=this.values,n=i.length;0===n&&(console.error("THREE.KeyframeTrack: Track is empty.",this),t=!1);let r=null;for(let o=0;o!==n;o++){const a=i[o];if("number"==typeof a&&isNaN(a)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,o,a),t=!1;break}if(null!==r&&r>a){console.error("THREE.KeyframeTrack: Out of order keys.",this,o,a,r),t=!1;break}r=a}if(void 0!==s&&function El(h){return ArrayBuffer.isView(h)&&!(h instanceof DataView)}(s))for(let o=0,a=s.length;o!==a;++o){const c=s[o];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,o,c),t=!1;break}}return t}optimize(){const t=this.times.slice(),e=this.values.slice(),i=this.getValueSize(),s=2302===this.getInterpolation(),n=t.length-1;let r=1;for(let o=1;o<n;++o){let a=!1;const c=t[o];if(c!==t[o+1]&&(1!==o||c!==t[0]))if(s)a=!0;else{const f=o*i,p=f-i,y=f+i;for(let g=0;g!==i;++g){const v=e[f+g];if(v!==e[p+g]||v!==e[y+g]){a=!0;break}}}if(a){if(o!==r){t[r]=t[o];const f=o*i,p=r*i;for(let y=0;y!==i;++y)e[p+y]=e[f+y]}++r}}if(n>0){t[r]=t[n];for(let o=n*i,a=r*i,c=0;c!==i;++c)e[a+c]=e[o+c];++r}return r!==t.length?(this.times=t.slice(0,r),this.values=e.slice(0,r*i)):(this.times=t,this.values=e),this}clone(){const t=this.times.slice(),e=this.values.slice(),s=new(0,this.constructor)(this.name,t,e);return s.createInterpolant=this.createInterpolant,s}}gi.prototype.ValueTypeName="",gi.prototype.TimeBufferType=Float32Array,gi.prototype.ValueBufferType=Float32Array,gi.prototype.DefaultInterpolation=2301;class xn extends gi{constructor(t,e,i){super(t,e,i)}}xn.prototype.ValueTypeName="bool",xn.prototype.ValueBufferType=Array,xn.prototype.DefaultInterpolation=2300,xn.prototype.InterpolantFactoryMethodLinear=void 0,xn.prototype.InterpolantFactoryMethodSmooth=void 0;(class Il extends gi{constructor(t,e,i,s){super(t,e,i,s)}}).prototype.ValueTypeName="color";(class ao extends gi{constructor(t,e,i,s){super(t,e,i,s)}}).prototype.ValueTypeName="number";class Qd extends oo{constructor(t,e,i,s){super(t,e,i,s)}interpolate_(t,e,i,s){const n=this.resultBuffer,r=this.sampleValues,o=this.valueSize,a=(i-e)/(s-e);let c=t*o;for(let u=c+o;c!==u;c+=4)Be.slerpFlat(n,0,r,c-o,r,c,a);return n}}class co extends gi{constructor(t,e,i,s){super(t,e,i,s)}InterpolantFactoryMethodLinear(t){return new Qd(this.times,this.values,this.getValueSize(),t)}}co.prototype.ValueTypeName="quaternion",co.prototype.InterpolantFactoryMethodSmooth=void 0;class bn extends gi{constructor(t,e,i){super(t,e,i)}}bn.prototype.ValueTypeName="string",bn.prototype.ValueBufferType=Array,bn.prototype.DefaultInterpolation=2300,bn.prototype.InterpolantFactoryMethodLinear=void 0,bn.prototype.InterpolantFactoryMethodSmooth=void 0;(class ho extends gi{constructor(t,e,i,s){super(t,e,i,s)}}).prototype.ValueTypeName="vector",Error;const Ic="\\[\\]\\.:\\/",Sf=new RegExp("["+Ic+"]","g"),Pc="[^"+Ic+"]",Af="[^"+Ic.replace("\\.","")+"]",Pf=new RegExp("^"+/((?:WC+[\/:])*)/.source.replace("WC",Pc)+/(WCOD+)?/.source.replace("WCOD",Af)+/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",Pc)+/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",Pc)+"$"),Rf=["material","materials","bones","map"];class Of{constructor(t,e,i){const s=i||ue.parseTrackName(e);this._targetGroup=t,this._bindings=t.subscribe_(e,s)}getValue(t,e){this.bind();const s=this._bindings[this._targetGroup.nCachedObjects_];void 0!==s&&s.getValue(t,e)}setValue(t,e){const i=this._bindings;for(let s=this._targetGroup.nCachedObjects_,n=i.length;s!==n;++s)i[s].setValue(t,e)}bind(){const t=this._bindings;for(let e=this._targetGroup.nCachedObjects_,i=t.length;e!==i;++e)t[e].bind()}unbind(){const t=this._bindings;for(let e=this._targetGroup.nCachedObjects_,i=t.length;e!==i;++e)t[e].unbind()}}let ue=(()=>{class h{constructor(e,i,s){this.path=i,this.parsedPath=s||h.parseTrackName(i),this.node=h.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,i,s){return e&&e.isAnimationObjectGroup?new h.Composite(e,i,s):new h(e,i,s)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(Sf,"")}static parseTrackName(e){const i=Pf.exec(e);if(null===i)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const s={nodeName:i[2],objectName:i[3],objectIndex:i[4],propertyName:i[5],propertyIndex:i[6]},n=s.nodeName&&s.nodeName.lastIndexOf(".");if(void 0!==n&&-1!==n){const r=s.nodeName.substring(n+1);-1!==Rf.indexOf(r)&&(s.nodeName=s.nodeName.substring(0,n),s.objectName=r)}if(null===s.propertyName||0===s.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return s}static findNode(e,i){if(void 0===i||""===i||"."===i||-1===i||i===e.name||i===e.uuid)return e;if(e.skeleton){const s=e.skeleton.getBoneByName(i);if(void 0!==s)return s}if(e.children){const s=function(r){for(let o=0;o<r.length;o++){const a=r[o];if(a.name===i||a.uuid===i)return a;const c=s(a.children);if(c)return c}return null},n=s(e.children);if(n)return n}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,i){e[i]=this.targetObject[this.propertyName]}_getValue_array(e,i){const s=this.resolvedProperty;for(let n=0,r=s.length;n!==r;++n)e[i++]=s[n]}_getValue_arrayElement(e,i){e[i]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,i){this.resolvedProperty.toArray(e,i)}_setValue_direct(e,i){this.targetObject[this.propertyName]=e[i]}_setValue_direct_setNeedsUpdate(e,i){this.targetObject[this.propertyName]=e[i],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,i){this.targetObject[this.propertyName]=e[i],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,i){const s=this.resolvedProperty;for(let n=0,r=s.length;n!==r;++n)s[n]=e[i++]}_setValue_array_setNeedsUpdate(e,i){const s=this.resolvedProperty;for(let n=0,r=s.length;n!==r;++n)s[n]=e[i++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,i){const s=this.resolvedProperty;for(let n=0,r=s.length;n!==r;++n)s[n]=e[i++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,i){this.resolvedProperty[this.propertyIndex]=e[i]}_setValue_arrayElement_setNeedsUpdate(e,i){this.resolvedProperty[this.propertyIndex]=e[i],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,i){this.resolvedProperty[this.propertyIndex]=e[i],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,i){this.resolvedProperty.fromArray(e,i)}_setValue_fromArray_setNeedsUpdate(e,i){this.resolvedProperty.fromArray(e,i),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,i){this.resolvedProperty.fromArray(e,i),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,i){this.bind(),this.getValue(e,i)}_setValue_unbound(e,i){this.bind(),this.setValue(e,i)}bind(){let e=this.node;const i=this.parsedPath,s=i.objectName,n=i.propertyName;let r=i.propertyIndex;if(e||(e=h.findNode(this.rootNode,i.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e)return void console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");if(s){let u=i.objectIndex;switch(s){case"materials":if(!e.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!e.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);e=e.material.materials;break;case"bones":if(!e.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);e=e.skeleton.bones;for(let f=0;f<e.length;f++)if(e[f].name===u){u=f;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!e.material.map)return void console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);e=e.material.map;break;default:if(void 0===e[s])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);e=e[s]}if(void 0!==u){if(void 0===e[u])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);e=e[u]}}const o=e[n];if(void 0===o)return void console.error("THREE.PropertyBinding: Trying to update property for track: "+i.nodeName+"."+n+" but it wasn't found.",e);let a=this.Versioning.None;this.targetObject=e,!0===e.isMaterial?a=this.Versioning.NeedsUpdate:!0===e.isObject3D&&(a=this.Versioning.MatrixWorldNeedsUpdate);let c=this.BindingType.Direct;if(void 0!==r){if("morphTargetInfluences"===n){if(!e.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!e.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==e.morphTargetDictionary[r]&&(r=e.morphTargetDictionary[r])}c=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=r}else void 0!==o.fromArray&&void 0!==o.toArray?(c=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(c=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=n;this.getValue=this.GetterByBindingType[c],this.setValue=this.SetterByBindingTypeAndVersioning[c][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}return h.Composite=Of,h})();ue.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},ue.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},ue.prototype.GetterByBindingType=[ue.prototype._getValue_direct,ue.prototype._getValue_array,ue.prototype._getValue_arrayElement,ue.prototype._getValue_toArray],ue.prototype.SetterByBindingTypeAndVersioning=[[ue.prototype._setValue_direct,ue.prototype._setValue_direct_setNeedsUpdate,ue.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[ue.prototype._setValue_array,ue.prototype._setValue_array_setNeedsUpdate,ue.prototype._setValue_array_setMatrixWorldNeedsUpdate],[ue.prototype._setValue_arrayElement,ue.prototype._setValue_arrayElement_setNeedsUpdate,ue.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[ue.prototype._setValue_fromArray,ue.prototype._setValue_fromArray_setNeedsUpdate,ue.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]],new Float32Array(1),typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:"177"}})),typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__="177")},4714:function(yt,T,_){"use strict";var E=this&&this.__importDefault||function(Y){return Y&&Y.__esModule?Y:{default:Y}};Object.defineProperty(T,"__esModule",{value:!0}),T.createProxyModule=T.createProxyFunction=void 0;const R=E(_(282)),O=_(5548),x=_(7981),b=_(737),M=_(1583),w=_(8254),S=R.default("threads:master:messages");let L=1;const k=Y=>Array.from(new Set(Y));function Pt(Y,q){return(...xt)=>{const ht=L++,{args:I,transferables:N}=function K(Y){if(0===Y.length)return{args:[],transferables:[]};const q=[],xt=[];for(const ht of Y)M.isTransferDescriptor(ht)?(q.push(x.serialize(ht.send)),xt.push(...ht.transferables)):q.push(x.serialize(ht));return{args:q,transferables:0===xt.length?xt:k(xt)}}(xt),$={type:w.MasterMessageType.run,uid:ht,method:q,args:I};S("Sending command to run function to worker:",$);try{Y.postMessage($,N)}catch(U){return b.ObservablePromise.from(Promise.reject(U))}return b.ObservablePromise.from(O.multicast(function ft(Y,q){return new O.Observable(xt=>{let ht;const I=N=>{if(S("Message from worker:",N.data),N.data&&N.data.uid===q)if((Y=>Y&&Y.type===w.WorkerMessageType.running)(N.data))ht=N.data.resultType;else if((Y=>Y&&Y.type===w.WorkerMessageType.result)(N.data))"promise"===ht?(typeof N.data.payload<"u"&&xt.next(x.deserialize(N.data.payload)),xt.complete(),Y.removeEventListener("message",I)):(N.data.payload&&xt.next(x.deserialize(N.data.payload)),N.data.complete&&(xt.complete(),Y.removeEventListener("message",I)));else if((Y=>Y&&Y.type===w.WorkerMessageType.error)(N.data)){const $=x.deserialize(N.data.error);xt.error($),Y.removeEventListener("message",I)}};return Y.addEventListener("message",I),()=>{"observable"!==ht&&ht||Y.postMessage({type:w.MasterMessageType.cancel,uid:q}),Y.removeEventListener("message",I)}})}(Y,ht)))}}T.createProxyFunction=Pt,T.createProxyModule=function Et(Y,q){const xt={};for(const ht of q)xt[ht]=Pt(Y,ht);return xt}},4761:(yt,T,_)=>{"use strict";_.d(T,{l:()=>R});const R=function E(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4843:(yt,T,_)=>{"use strict";_.d(T,{_:()=>O});var E=_(9350),R=_(2998);function O(x,b){const M="object"==typeof b;return new Promise((w,S)=>{const L=new R.Ms({next:k=>{w(k),L.unsubscribe()},error:S,complete:()=>{M?w(b.defaultValue):S(new E.G)}});x.subscribe(L)})}},4845:(yt,T,_)=>{"use strict";_.d(T,{V:()=>E});class E{constructor(){this._dataLength=0,this._bufferLength=0,this._state=new Int32Array(4),this._buffer=new ArrayBuffer(68),this._buffer8=new Uint8Array(this._buffer,0,68),this._buffer32=new Uint32Array(this._buffer,0,17),this.start()}static hashStr(O,x=!1){return this.onePassHasher.start().appendStr(O).end(x)}static hashAsciiStr(O,x=!1){return this.onePassHasher.start().appendAsciiStr(O).end(x)}static _hex(O){const x=E.hexChars,b=E.hexOut;let M,w,S,L;for(L=0;L<4;L+=1)for(w=8*L,M=O[L],S=0;S<8;S+=2)b[w+1+S]=x.charAt(15&M),M>>>=4,b[w+0+S]=x.charAt(15&M),M>>>=4;return b.join("")}static _md5cycle(O,x){let b=O[0],M=O[1],w=O[2],S=O[3];b+=(M&w|~M&S)+x[0]-680876936|0,b=(b<<7|b>>>25)+M|0,S+=(b&M|~b&w)+x[1]-389564586|0,S=(S<<12|S>>>20)+b|0,w+=(S&b|~S&M)+x[2]+606105819|0,w=(w<<17|w>>>15)+S|0,M+=(w&S|~w&b)+x[3]-1044525330|0,M=(M<<22|M>>>10)+w|0,b+=(M&w|~M&S)+x[4]-176418897|0,b=(b<<7|b>>>25)+M|0,S+=(b&M|~b&w)+x[5]+1200080426|0,S=(S<<12|S>>>20)+b|0,w+=(S&b|~S&M)+x[6]-1473231341|0,w=(w<<17|w>>>15)+S|0,M+=(w&S|~w&b)+x[7]-45705983|0,M=(M<<22|M>>>10)+w|0,b+=(M&w|~M&S)+x[8]+1770035416|0,b=(b<<7|b>>>25)+M|0,S+=(b&M|~b&w)+x[9]-1958414417|0,S=(S<<12|S>>>20)+b|0,w+=(S&b|~S&M)+x[10]-42063|0,w=(w<<17|w>>>15)+S|0,M+=(w&S|~w&b)+x[11]-1990404162|0,M=(M<<22|M>>>10)+w|0,b+=(M&w|~M&S)+x[12]+1804603682|0,b=(b<<7|b>>>25)+M|0,S+=(b&M|~b&w)+x[13]-40341101|0,S=(S<<12|S>>>20)+b|0,w+=(S&b|~S&M)+x[14]-1502002290|0,w=(w<<17|w>>>15)+S|0,M+=(w&S|~w&b)+x[15]+1236535329|0,M=(M<<22|M>>>10)+w|0,b+=(M&S|w&~S)+x[1]-165796510|0,b=(b<<5|b>>>27)+M|0,S+=(b&w|M&~w)+x[6]-1069501632|0,S=(S<<9|S>>>23)+b|0,w+=(S&M|b&~M)+x[11]+643717713|0,w=(w<<14|w>>>18)+S|0,M+=(w&b|S&~b)+x[0]-373897302|0,M=(M<<20|M>>>12)+w|0,b+=(M&S|w&~S)+x[5]-701558691|0,b=(b<<5|b>>>27)+M|0,S+=(b&w|M&~w)+x[10]+38016083|0,S=(S<<9|S>>>23)+b|0,w+=(S&M|b&~M)+x[15]-660478335|0,w=(w<<14|w>>>18)+S|0,M+=(w&b|S&~b)+x[4]-405537848|0,M=(M<<20|M>>>12)+w|0,b+=(M&S|w&~S)+x[9]+568446438|0,b=(b<<5|b>>>27)+M|0,S+=(b&w|M&~w)+x[14]-1019803690|0,S=(S<<9|S>>>23)+b|0,w+=(S&M|b&~M)+x[3]-187363961|0,w=(w<<14|w>>>18)+S|0,M+=(w&b|S&~b)+x[8]+1163531501|0,M=(M<<20|M>>>12)+w|0,b+=(M&S|w&~S)+x[13]-1444681467|0,b=(b<<5|b>>>27)+M|0,S+=(b&w|M&~w)+x[2]-51403784|0,S=(S<<9|S>>>23)+b|0,w+=(S&M|b&~M)+x[7]+1735328473|0,w=(w<<14|w>>>18)+S|0,M+=(w&b|S&~b)+x[12]-1926607734|0,M=(M<<20|M>>>12)+w|0,b+=(M^w^S)+x[5]-378558|0,b=(b<<4|b>>>28)+M|0,S+=(b^M^w)+x[8]-2022574463|0,S=(S<<11|S>>>21)+b|0,w+=(S^b^M)+x[11]+1839030562|0,w=(w<<16|w>>>16)+S|0,M+=(w^S^b)+x[14]-35309556|0,M=(M<<23|M>>>9)+w|0,b+=(M^w^S)+x[1]-1530992060|0,b=(b<<4|b>>>28)+M|0,S+=(b^M^w)+x[4]+1272893353|0,S=(S<<11|S>>>21)+b|0,w+=(S^b^M)+x[7]-155497632|0,w=(w<<16|w>>>16)+S|0,M+=(w^S^b)+x[10]-1094730640|0,M=(M<<23|M>>>9)+w|0,b+=(M^w^S)+x[13]+681279174|0,b=(b<<4|b>>>28)+M|0,S+=(b^M^w)+x[0]-358537222|0,S=(S<<11|S>>>21)+b|0,w+=(S^b^M)+x[3]-722521979|0,w=(w<<16|w>>>16)+S|0,M+=(w^S^b)+x[6]+76029189|0,M=(M<<23|M>>>9)+w|0,b+=(M^w^S)+x[9]-640364487|0,b=(b<<4|b>>>28)+M|0,S+=(b^M^w)+x[12]-421815835|0,S=(S<<11|S>>>21)+b|0,w+=(S^b^M)+x[15]+530742520|0,w=(w<<16|w>>>16)+S|0,M+=(w^S^b)+x[2]-995338651|0,M=(M<<23|M>>>9)+w|0,b+=(w^(M|~S))+x[0]-198630844|0,b=(b<<6|b>>>26)+M|0,S+=(M^(b|~w))+x[7]+1126891415|0,S=(S<<10|S>>>22)+b|0,w+=(b^(S|~M))+x[14]-1416354905|0,w=(w<<15|w>>>17)+S|0,M+=(S^(w|~b))+x[5]-57434055|0,M=(M<<21|M>>>11)+w|0,b+=(w^(M|~S))+x[12]+1700485571|0,b=(b<<6|b>>>26)+M|0,S+=(M^(b|~w))+x[3]-1894986606|0,S=(S<<10|S>>>22)+b|0,w+=(b^(S|~M))+x[10]-1051523|0,w=(w<<15|w>>>17)+S|0,M+=(S^(w|~b))+x[1]-2054922799|0,M=(M<<21|M>>>11)+w|0,b+=(w^(M|~S))+x[8]+1873313359|0,b=(b<<6|b>>>26)+M|0,S+=(M^(b|~w))+x[15]-30611744|0,S=(S<<10|S>>>22)+b|0,w+=(b^(S|~M))+x[6]-1560198380|0,w=(w<<15|w>>>17)+S|0,M+=(S^(w|~b))+x[13]+1309151649|0,M=(M<<21|M>>>11)+w|0,b+=(w^(M|~S))+x[4]-145523070|0,b=(b<<6|b>>>26)+M|0,S+=(M^(b|~w))+x[11]-1120210379|0,S=(S<<10|S>>>22)+b|0,w+=(b^(S|~M))+x[2]+718787259|0,w=(w<<15|w>>>17)+S|0,M+=(S^(w|~b))+x[9]-343485551|0,M=(M<<21|M>>>11)+w|0,O[0]=b+O[0]|0,O[1]=M+O[1]|0,O[2]=w+O[2]|0,O[3]=S+O[3]|0}start(){return this._dataLength=0,this._bufferLength=0,this._state.set(E.stateIdentity),this}appendStr(O){const x=this._buffer8,b=this._buffer32;let w,S,M=this._bufferLength;for(S=0;S<O.length;S+=1){if(w=O.charCodeAt(S),w<128)x[M++]=w;else if(w<2048)x[M++]=192+(w>>>6),x[M++]=63&w|128;else if(w<55296||w>56319)x[M++]=224+(w>>>12),x[M++]=w>>>6&63|128,x[M++]=63&w|128;else{if(w=1024*(w-55296)+(O.charCodeAt(++S)-56320)+65536,w>1114111)throw new Error("Unicode standard supports code points up to U+10FFFF");x[M++]=240+(w>>>18),x[M++]=w>>>12&63|128,x[M++]=w>>>6&63|128,x[M++]=63&w|128}M>=64&&(this._dataLength+=64,E._md5cycle(this._state,b),M-=64,b[0]=b[16])}return this._bufferLength=M,this}appendAsciiStr(O){const x=this._buffer8,b=this._buffer32;let w,M=this._bufferLength,S=0;for(;;){for(w=Math.min(O.length-S,64-M);w--;)x[M++]=O.charCodeAt(S++);if(M<64)break;this._dataLength+=64,E._md5cycle(this._state,b),M=0}return this._bufferLength=M,this}appendByteArray(O){const x=this._buffer8,b=this._buffer32;let w,M=this._bufferLength,S=0;for(;;){for(w=Math.min(O.length-S,64-M);w--;)x[M++]=O[S++];if(M<64)break;this._dataLength+=64,E._md5cycle(this._state,b),M=0}return this._bufferLength=M,this}getState(){const O=this._state;return{buffer:String.fromCharCode.apply(null,Array.from(this._buffer8)),buflen:this._bufferLength,length:this._dataLength,state:[O[0],O[1],O[2],O[3]]}}setState(O){const x=O.buffer,b=O.state,M=this._state;let w;for(this._dataLength=O.length,this._bufferLength=O.buflen,M[0]=b[0],M[1]=b[1],M[2]=b[2],M[3]=b[3],w=0;w<x.length;w+=1)this._buffer8[w]=x.charCodeAt(w)}end(O=!1){const x=this._bufferLength,b=this._buffer8,M=this._buffer32,w=1+(x>>2);this._dataLength+=x;const S=8*this._dataLength;if(b[x]=128,b[x+1]=b[x+2]=b[x+3]=0,M.set(E.buffer32Identity.subarray(w),w),x>55&&(E._md5cycle(this._state,M),M.set(E.buffer32Identity)),S<=4294967295)M[14]=S;else{const L=S.toString(16).match(/(.*?)(.{0,8})$/);if(null===L)return;const k=parseInt(L[2],16),J=parseInt(L[1],16)||0;M[14]=k,M[15]=J}return E._md5cycle(this._state,M),O?this._state:E._hex(this._state)}}if(E.stateIdentity=new Int32Array([1732584193,-271733879,-1732584194,271733878]),E.buffer32Identity=new Int32Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),E.hexChars="0123456789abcdef",E.hexOut=[],E.onePassHasher=new E,"5d41402abc4b2a76b9719d911017c592"!==E.hashStr("hello"))throw new Error("Md5 self test failed.")},5055:(yt,T,_)=>{"use strict";_.d(T,{l:()=>O});var E=_(3494),R=_(8071);function O(x){return(0,R.T)(x[E.s])}},5107:(yt,T,_)=>{"use strict";_.d(T,{Mn:()=>R});const R=_(8146).registerSerializer},5196:(yt,T,_)=>{"use strict";_.d(T,{C:()=>O,U:()=>x});var E=_(1635),R=_(8071);function O(b){return(0,E.AQ)(this,arguments,function*(){const w=b.getReader();try{for(;;){const{value:S,done:L}=yield(0,E.N3)(w.read());if(L)return yield(0,E.N3)(void 0);yield yield(0,E.N3)(S)}}finally{w.releaseLock()}})}function x(b){return(0,R.T)(b?.getReader)}},5225:(yt,T,_)=>{"use strict";function E(R,O,x,b=0,M=!1){const w=O.schedule(function(){x(),M?R.add(this.schedule(null,b)):this.unsubscribe()},b);if(R.add(w),!M)return w}_.d(T,{N:()=>E})},5281:(yt,T,_)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.Worker=T.BlobWorker=T.isWorkerRuntime=T.Thread=T.spawn=T.Pool=void 0;const E=_(465);Object.defineProperty(T,"isWorkerRuntime",{enumerable:!0,get:function(){return E.isWorkerRuntime}});var R=_(4119);Object.defineProperty(T,"Pool",{enumerable:!0,get:function(){return R.Pool}});var O=_(618);Object.defineProperty(T,"spawn",{enumerable:!0,get:function(){return O.spawn}});var x=_(2537);Object.defineProperty(T,"Thread",{enumerable:!0,get:function(){return x.Thread}}),T.BlobWorker=E.getWorkerImplementation().blob,T.Worker=E.getWorkerImplementation().default},5334:(yt,T,_)=>{"use strict";_.d(T,{m:()=>O});var E=_(1026),R=_(9270);function O(x){R.f.setTimeout(()=>{const{onUnhandledError:b}=E.$;if(!b)throw x;b(x)})}},5343:(yt,T,_)=>{"use strict";function E(){}_.d(T,{l:()=>E})},5397:(yt,T,_)=>{"use strict";_.d(T,{x:()=>O});var E=_(4761),R=_(8071);function O(x){return(0,R.T)(x?.[E.l])}},5412:(yt,T,_)=>{"use strict";_.d(T,{h:()=>x});var E=_(8750),R=_(5225),O=_(4360);function x(b,M,w,S,L,k,J,tt){const at=[];let ft=0,K=0,Pt=!1;const Et=()=>{Pt&&!at.length&&!ft&&M.complete()},Y=xt=>ft<S?q(xt):at.push(xt),q=xt=>{k&&M.next(xt),ft++;let ht=!1;(0,E.Tg)(w(xt,K++)).subscribe((0,O._)(M,I=>{L?.(I),k?Y(I):M.next(I)},()=>{ht=!0},void 0,()=>{if(ht)try{for(ft--;at.length&&ft<S;){const I=at.shift();J?(0,R.N)(M,J,()=>q(I)):q(I)}Et()}catch(I){M.error(I)}}))};return b.subscribe((0,O._)(M,Y,()=>{Pt=!0,Et()})),()=>{tt?.()}}},5508:(yt,T)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.allSettled=void 0,T.allSettled=function _(E){return Promise.all(E.map(R=>{const O=M=>({status:"fulfilled",value:M}),x=M=>({status:"rejected",reason:M}),b=Promise.resolve(R);try{return b.then(O,x)}catch(M){return Promise.reject(M)}}))}},5548:(yt,T,_)=>{"use strict";_.r(T),_.d(T,{Observable:()=>N,Subject:()=>gt,filter:()=>lt,flatMap:()=>oe,interval:()=>Me,map:()=>W,merge:()=>et,multicast:()=>zt,scan:()=>kt,unsubscribe:()=>U});class R{constructor(H){this._baseObserver=H,this._pendingPromises=new Set}complete(){Promise.all(this._pendingPromises).then(()=>this._baseObserver.complete()).catch(H=>this._baseObserver.error(H))}error(H){this._baseObserver.error(H)}schedule(H){const dt=Promise.all(this._pendingPromises),it=[],ut=bt=>it.push(bt),pt=Promise.resolve().then(()=>function(ot,H,dt,it){return new(dt||(dt=Promise))(function(pt,bt){function Ut(Bt){try{jt(it.next(Bt))}catch(ne){bt(ne)}}function Jt(Bt){try{jt(it.throw(Bt))}catch(ne){bt(ne)}}function jt(Bt){Bt.done?pt(Bt.value):function ut(pt){return pt instanceof dt?pt:new dt(function(bt){bt(pt)})}(Bt.value).then(Ut,Jt)}jt((it=it.apply(ot,H||[])).next())})}(this,void 0,void 0,function*(){yield dt,yield H(ut),this._pendingPromises.delete(pt);for(const bt of it)this._baseObserver.next(bt)})).catch(bt=>{this._pendingPromises.delete(pt),this._baseObserver.error(bt)});this._pendingPromises.add(pt)}}const O=()=>"function"==typeof Symbol,x=ot=>O()&&!!Symbol[ot],b=ot=>x(ot)?Symbol[ot]:"@@"+ot;x("asyncIterator")||(Symbol.asyncIterator=Symbol.asyncIterator||Symbol.for("Symbol.asyncIterator"));const w=b("iterator"),S=b("observable"),L=b("species");function k(ot,H){const dt=ot[H];if(null!=dt){if("function"!=typeof dt)throw new TypeError(dt+" is not a function");return dt}}function J(ot){let H=ot.constructor;return void 0!==H&&(H=H[L],null===H&&(H=void 0)),void 0!==H?H:I}function at(ot){at.log?at.log(ot):setTimeout(()=>{throw ot},0)}function ft(ot){Promise.resolve().then(()=>{try{ot()}catch(H){at(H)}})}function K(ot){const H=ot._cleanup;if(void 0!==H&&(ot._cleanup=void 0,H))try{if("function"==typeof H)H();else{const dt=k(H,"unsubscribe");dt&&dt.call(H)}}catch(dt){at(dt)}}function Pt(ot){ot._observer=void 0,ot._queue=void 0,ot._state="closed"}function Y(ot,H,dt){ot._state="running";const it=ot._observer;try{const ut=it?k(it,H):void 0;switch(H){case"next":ut&&ut.call(it,dt);break;case"error":if(Pt(ot),!ut)throw dt;ut.call(it,dt);break;case"complete":Pt(ot),ut&&ut.call(it)}}catch(ut){at(ut)}"closed"===ot._state?K(ot):"running"===ot._state&&(ot._state="ready")}function q(ot,H,dt){if("closed"!==ot._state){if("buffering"===ot._state)return ot._queue=ot._queue||[],void ot._queue.push({type:H,value:dt});if("ready"!==ot._state)return ot._state="buffering",ot._queue=[{type:H,value:dt}],void ft(()=>function Et(ot){const H=ot._queue;if(H){ot._queue=void 0,ot._state="ready";for(const dt of H)if(Y(ot,dt.type,dt.value),"closed"===ot._state)break}}(ot));Y(ot,H,dt)}}class xt{constructor(H,dt){this._cleanup=void 0,this._observer=H,this._queue=void 0,this._state="initializing";const it=new ht(this);try{this._cleanup=dt.call(void 0,it)}catch(ut){it.error(ut)}"initializing"===this._state&&(this._state="ready")}get closed(){return"closed"===this._state}unsubscribe(){"closed"!==this._state&&(Pt(this),K(this))}}class ht{constructor(H){this._subscription=H}get closed(){return"closed"===this._subscription._state}next(H){q(this._subscription,"next",H)}error(H){q(this._subscription,"error",H)}complete(){q(this._subscription,"complete")}}class I{constructor(H){if(!(this instanceof I))throw new TypeError("Observable cannot be called as a function");if("function"!=typeof H)throw new TypeError("Observable initializer must be a function");this._subscriber=H}subscribe(H,dt,it){return("object"!=typeof H||null===H)&&(H={next:H,error:dt,complete:it}),new xt(H,this._subscriber)}pipe(H,...dt){let it=this;for(const ut of[H,...dt])it=ut(it);return it}tap(H,dt,it){const ut="object"!=typeof H||null===H?{next:H,error:dt,complete:it}:H;return new I(pt=>this.subscribe({next(bt){ut.next&&ut.next(bt),pt.next(bt)},error(bt){ut.error&&ut.error(bt),pt.error(bt)},complete(){ut.complete&&ut.complete(),pt.complete()},start(bt){ut.start&&ut.start(bt)}}))}forEach(H){return new Promise((dt,it)=>{if("function"!=typeof H)return void it(new TypeError(H+" is not a function"));function ut(){pt.unsubscribe(),dt(void 0)}const pt=this.subscribe({next(bt){try{H(bt,ut)}catch(Ut){it(Ut),pt.unsubscribe()}},error(bt){it(bt)},complete(){dt(void 0)}})})}map(H){if("function"!=typeof H)throw new TypeError(H+" is not a function");return new(J(this))(it=>this.subscribe({next(ut){let pt=ut;try{pt=H(ut)}catch(bt){return it.error(bt)}it.next(pt)},error(ut){it.error(ut)},complete(){it.complete()}}))}filter(H){if("function"!=typeof H)throw new TypeError(H+" is not a function");return new(J(this))(it=>this.subscribe({next(ut){try{if(!H(ut))return}catch(pt){return it.error(pt)}it.next(ut)},error(ut){it.error(ut)},complete(){it.complete()}}))}reduce(H,dt){if("function"!=typeof H)throw new TypeError(H+" is not a function");const it=J(this),ut=arguments.length>1;let pt=!1,bt=dt;return new it(Ut=>this.subscribe({next(Jt){const jt=!pt;if(pt=!0,!jt||ut)try{bt=H(bt,Jt)}catch(Bt){return Ut.error(Bt)}else bt=Jt},error(Jt){Ut.error(Jt)},complete(){if(!pt&&!ut)return Ut.error(new TypeError("Cannot reduce an empty sequence"));Ut.next(bt),Ut.complete()}}))}concat(...H){const dt=J(this);return new dt(it=>{let ut,pt=0;return function bt(Ut){ut=Ut.subscribe({next(Jt){it.next(Jt)},error(Jt){it.error(Jt)},complete(){pt===H.length?(ut=void 0,it.complete()):bt(dt.from(H[pt++]))}})}(this),()=>{ut&&(ut.unsubscribe(),ut=void 0)}})}flatMap(H){if("function"!=typeof H)throw new TypeError(H+" is not a function");const dt=J(this);return new dt(it=>{const ut=[],pt=this.subscribe({next(Ut){let Jt;if(H)try{Jt=H(Ut)}catch(Bt){return it.error(Bt)}else Jt=Ut;const jt=dt.from(Jt).subscribe({next(Bt){it.next(Bt)},error(Bt){it.error(Bt)},complete(){const Bt=ut.indexOf(jt);Bt>=0&&ut.splice(Bt,1),bt()}});ut.push(jt)},error(Ut){it.error(Ut)},complete(){bt()}});function bt(){pt.closed&&0===ut.length&&it.complete()}return()=>{ut.forEach(Ut=>Ut.unsubscribe()),pt.unsubscribe()}})}[(Symbol,S)](){return this}static from(H){const dt="function"==typeof this?this:I;if(null==H)throw new TypeError(H+" is not an object");const it=k(H,S);if(it){const ut=it.call(H);if(Object(ut)!==ut)throw new TypeError(ut+" is not an object");return function tt(ot){return ot instanceof I}(ut)&&ut.constructor===dt?ut:new dt(pt=>ut.subscribe(pt))}if(x("iterator")){const ut=k(H,w);if(ut)return new dt(pt=>{ft(()=>{if(!pt.closed){for(const bt of ut.call(H))if(pt.next(bt),pt.closed)return;pt.complete()}})})}if(Array.isArray(H))return new dt(ut=>{ft(()=>{if(!ut.closed){for(const pt of H)if(ut.next(pt),ut.closed)return;ut.complete()}})});throw new TypeError(H+" is not observable")}static of(...H){return new("function"==typeof this?this:I)(it=>{ft(()=>{if(!it.closed){for(const ut of H)if(it.next(ut),it.closed)return;it.complete()}})})}static get[L](){return this}}O()&&Object.defineProperty(I,Symbol("extensions"),{value:{symbol:S,hostReportError:at},configurable:!0});const N=I,U=function $(ot){"function"==typeof ot?ot():ot&&"function"==typeof ot.unsubscribe&&ot.unsubscribe()};const lt=function j(ot){return H=>new N(dt=>{const it=new R(dt),ut=H.subscribe({complete(){it.complete()},error(pt){it.error(pt)},next(pt){it.schedule(bt=>function(ot,H,dt,it){return new(dt||(dt=Promise))(function(pt,bt){function Ut(Bt){try{jt(it.next(Bt))}catch(ne){bt(ne)}}function Jt(Bt){try{jt(it.throw(Bt))}catch(ne){bt(ne)}}function jt(Bt){Bt.done?pt(Bt.value):function ut(pt){return pt instanceof dt?pt:new dt(function(bt){bt(pt)})}(Bt.value).then(Ut,Jt)}jt((it=it.apply(ot,H||[])).next())})}(this,void 0,void 0,function*(){(yield ot(pt))&&bt(pt)}))}});return()=>U(ut)})};const oe=function Kt(ot){return H=>new N(dt=>{const it=new R(dt),ut=H.subscribe({complete(){it.complete()},error(pt){it.error(pt)},next(pt){it.schedule(bt=>function(ot,H,dt,it){return new(dt||(dt=Promise))(function(pt,bt){function Ut(Bt){try{jt(it.next(Bt))}catch(ne){bt(ne)}}function Jt(Bt){try{jt(it.throw(Bt))}catch(ne){bt(ne)}}function jt(Bt){Bt.done?pt(Bt.value):function ut(pt){return pt instanceof dt?pt:new dt(function(bt){bt(pt)})}(Bt.value).then(Ut,Jt)}jt((it=it.apply(ot,H||[])).next())})}(this,void 0,void 0,function*(){var Ut,Jt;const jt=yield ot(pt);if(function Tt(ot){return ot&&x("iterator")&&ot[Symbol.iterator]}(jt)||function At(ot){return ot&&x("asyncIterator")&&ot[Symbol.asyncIterator]}(jt))try{for(var ne,Bt=function(ot){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var dt,H=ot[Symbol.asyncIterator];return H?H.call(ot):(ot="function"==typeof __values?__values(ot):ot[Symbol.iterator](),dt={},it("next"),it("throw"),it("return"),dt[Symbol.asyncIterator]=function(){return this},dt);function it(pt){dt[pt]=ot[pt]&&function(bt){return new Promise(function(Ut,Jt){!function ut(pt,bt,Ut,Jt){Promise.resolve(Jt).then(function(jt){pt({value:jt,done:Ut})},bt)}(Ut,Jt,(bt=ot[pt](bt)).done,bt.value)})}}}(jt);!(ne=yield Bt.next()).done;)bt(ne.value)}catch(Ke){Ut={error:Ke}}finally{try{ne&&!ne.done&&(Jt=Bt.return)&&(yield Jt.call(Bt))}finally{if(Ut)throw Ut.error}}else jt.map(Ke=>bt(Ke))}))}});return()=>U(ut)})};function Me(ot){return new I(H=>{let dt=0;const it=setInterval(()=>{H.next(dt++)},ot);return()=>clearInterval(it)})}const W=function te(ot){return H=>new N(dt=>{const it=new R(dt),ut=H.subscribe({complete(){it.complete()},error(pt){it.error(pt)},next(pt){it.schedule(bt=>function(ot,H,dt,it){return new(dt||(dt=Promise))(function(pt,bt){function Ut(Bt){try{jt(it.next(Bt))}catch(ne){bt(ne)}}function Jt(Bt){try{jt(it.throw(Bt))}catch(ne){bt(ne)}}function jt(Bt){Bt.done?pt(Bt.value):function ut(pt){return pt instanceof dt?pt:new dt(function(bt){bt(pt)})}(Bt.value).then(Ut,Jt)}jt((it=it.apply(ot,H||[])).next())})}(this,void 0,void 0,function*(){const Ut=yield ot(pt);bt(Ut)}))}});return()=>U(ut)})},et=function X(...ot){return 0===ot.length?I.from([]):new I(H=>{let dt=0;const it=ot.map(pt=>pt.subscribe({error(bt){H.error(bt),ut()},next(bt){H.next(bt)},complete(){++dt===ot.length&&(H.complete(),ut())}})),ut=()=>{it.forEach(pt=>U(pt))};return ut})},gt=class st extends N{constructor(){super(H=>(this._observers.add(H),()=>this._observers.delete(H))),this._observers=new Set}next(H){for(const dt of this._observers)dt.next(H)}error(H){for(const dt of this._observers)dt.error(H)}complete(){for(const H of this._observers)H.complete()}},zt=function _t(ot){const H=new gt;let dt,it=0;return new N(ut=>{dt||(dt=ot.subscribe(H));const pt=H.subscribe(ut);return it++,()=>{it--,pt.unsubscribe(),0===it&&(U(dt),dt=void 0)}})};const kt=function fe(ot,H){return dt=>new N(it=>{let ut,pt=0;const bt=new R(it),Ut=dt.subscribe({complete(){bt.complete()},error(Jt){bt.error(Jt)},next(Jt){bt.schedule(jt=>function(ot,H,dt,it){return new(dt||(dt=Promise))(function(pt,bt){function Ut(Bt){try{jt(it.next(Bt))}catch(ne){bt(ne)}}function Jt(Bt){try{jt(it.throw(Bt))}catch(ne){bt(ne)}}function jt(Bt){Bt.done?pt(Bt.value):function ut(pt){return pt instanceof dt?pt:new dt(function(bt){bt(pt)})}(Bt.value).then(Ut,Jt)}jt((it=it.apply(ot,H||[])).next())})}(this,void 0,void 0,function*(){ut=yield ot(0===pt?typeof H>"u"?Jt:H:ut,Jt,pt++),jt(ut)}))}});return()=>U(Ut)})}},5558:(yt,T,_)=>{"use strict";_.d(T,{n:()=>x});var E=_(8750),R=_(9974),O=_(4360);function x(b,M){return(0,R.N)((w,S)=>{let L=null,k=0,J=!1;const tt=()=>J&&!L&&S.complete();w.subscribe((0,O._)(S,at=>{L?.unsubscribe();let ft=0;const K=k++;(0,E.Tg)(b(at,K)).subscribe(L=(0,O._)(S,Pt=>S.next(M?M(at,Pt,K,ft++):Pt),()=>{L=null,tt()}))},()=>{J=!0,tt()}))})}},5588:(yt,T,_)=>{"use strict";_.d(T,{V:()=>R});var E=_(1985);function R(O,x){return new E.c(b=>{let M=0;return x.schedule(function(){M===O.length?b.complete():(b.next(O[M++]),b.closed||this.schedule())})})}},5814:yt=>{"use strict";yt.exports=T=>!!T&&("symbol"==typeof Symbol.observable&&"function"==typeof T[Symbol.observable]?T===T[Symbol.observable]():"function"==typeof T["@@observable"]&&T===T["@@observable"]())},5964:(yt,T,_)=>{"use strict";_.d(T,{p:()=>O});var E=_(9974),R=_(4360);function O(x,b){return(0,E.N)((M,w)=>{let S=0;M.subscribe((0,R._)(w,L=>x.call(b,L,S++)&&w.next(L)))})}},5985:(yt,T,_)=>{"use strict";_.d(T,{VV:()=>E.V});var E=_(4845);_(2386)},6056:(yt,T,_)=>{"use strict";var O;Object.defineProperty(T,"__esModule",{value:!0}),T.WorkerEventType=void 0,_(7727),(O=T.WorkerEventType||(T.WorkerEventType={})).internalError="internalError",O.message="message",O.termination="termination"},6354:(yt,T,_)=>{"use strict";_.d(T,{T:()=>O});var E=_(9974),R=_(4360);function O(x,b){return(0,E.N)((M,w)=>{let S=0;M.subscribe((0,R._)(w,L=>{w.next(x.call(b,L,S++))}))})}},6365:(yt,T,_)=>{"use strict";_.d(T,{U:()=>O});var E=_(3028),R=_(3669);function O(x=1/0){return(0,E.Z)(R.D,x)}},6697:(yt,T,_)=>{"use strict";_.d(T,{s:()=>x});var E=_(983),R=_(9974),O=_(4360);function x(b){return b<=0?()=>E.w:(0,R.N)((M,w)=>{let S=0;M.subscribe((0,O._)(w,L=>{++S<=b&&(w.next(L),b<=S&&w.complete())}))})}},6745:(yt,T,_)=>{"use strict";_.d(T,{_:()=>R});var E=_(9974);function R(O,x=0){return(0,E.N)((b,M)=>{M.add(O.schedule(()=>b.subscribe(M),x))})}},6950:(yt,T,_)=>{"use strict";_.d(T,{A:()=>oe,Az:()=>it,J$:()=>H,JN:()=>Ut,MK:()=>fe,N:()=>et,O:()=>bt,V:()=>St,W:()=>gt,Wj:()=>qt,Wq:()=>ot,Yz:()=>jt,_P:()=>zt,eM:()=>U,g:()=>lt,kg:()=>At,m:()=>N,mA:()=>Me,mV:()=>ie,mm:()=>I,ms:()=>W,n4:()=>ut,pT:()=>Bt,qn:()=>Ke,rc:()=>G,s:()=>te});var E=_(1465),R=function(Yt){return Yt.ACCELERATION="ACCELERATION",Yt.ANGULAR_ACCELERATION="ANGULAR_ACCELERATION",Yt.ANGULAR_SPEED="ANGULAR_SPEED",Yt.CURRENT="CURRENT",Yt.FORCE="FORCE",Yt.LENGTH="LENGTH",Yt.MASS="MASS",Yt.MOMENTUM="MOMENTUM",Yt.PLANE_ANGLE="PLANE_ANGLE",Yt.POWER="POWER",Yt.SPEED="SPEED",Yt.TEMPERATURE="TEMPERATURE",Yt.TIME="TIME",Yt.TORQUE="TORQUE",Yt.VOLTAGE="VOLTAGE",Yt.MOMENT_INERTIA="MOMENT_INERTIA",Yt}(R||{});const O=Number.parseFloat(new E(Math.PI).div(180).toFixed());class b{constructor(){this.quantity=R.LENGTH,this.length=!0}}class M{constructor(){this.quantity=R.PLANE_ANGLE,this.angle=!0}}class w{constructor(){this.quantity=R.MASS,this.mass=!0}}class S{constructor(){this.quantity=R.VOLTAGE,this.voltage=!0}}class L{constructor(){this.quantity=R.CURRENT,this.current=!0}}class k{constructor(){this.quantity=R.TIME,this.time=!0}}class tt{constructor(){this.quantity=R.SPEED,this.speed=!0}}class at{constructor(){this.quantity=R.ANGULAR_SPEED,this.angularSpeed=!0}}class ft{constructor(){this.quantity=R.ACCELERATION,this.acceleration=!0}}class K{constructor(){this.quantity=R.ANGULAR_ACCELERATION,this.angularAcceleration=!0}}class ht{constructor(Pe,Ve,ni,Ws){this.quantity=Pe,this.numeratorUnit=Ve,this.denominatorUnit=ni,this.significantDigits=Ws,this.label=this.numeratorUnit.label.endsWith(ni.label)?`${this.numeratorUnit.label}^2`:`${this.numeratorUnit.label}/${this.denominatorUnit.label}`,this.symbol=this.numeratorUnit.symbol.endsWith(ni.symbol)?`${this.numeratorUnit.symbol}\xb2`:`${this.numeratorUnit.symbol}/${this.denominatorUnit.symbol}`,this.scaleFactor=this.numeratorUnit.scaleFactor*this.denominatorUnit.scaleFactor}}const I={quantity:new b,scaleFactor:.001,significantDigits:1,label:"mm",symbol:"mm"},N={quantity:new b,scaleFactor:1,significantDigits:4,label:"m",symbol:"m"},U={quantity:new M,scaleFactor:1,significantDigits:4,label:"rad",symbol:"rad"},G={quantity:new M,scaleFactor:O,significantDigits:2,label:"deg",symbol:"\xb0"},lt={quantity:new w,scaleFactor:.001,significantDigits:0,label:"g",symbol:"g"},At={quantity:new w,scaleFactor:1,significantDigits:3,label:"kg",symbol:"kg"},St={quantity:new S,scaleFactor:1,significantDigits:3,label:"V",symbol:"V"},ie={quantity:new S,scaleFactor:.001,significantDigits:0,label:"mV",symbol:"mV"},oe={quantity:new L,scaleFactor:1,significantDigits:5,label:"A",symbol:"A"},Me={quantity:new L,scaleFactor:.001,significantDigits:2,label:"mA",symbol:"mA"},te={quantity:new k,scaleFactor:1,significantDigits:2,label:"s",symbol:"s"},W={quantity:new k,scaleFactor:.001,significantDigits:0,label:"ms",symbol:"ms"},et={quantity:new class J{constructor(){this.quantity=R.FORCE,this.force=!0}},scaleFactor:1,significantDigits:1,label:"N",symbol:"N"},gt={quantity:new class Pt{constructor(){this.quantity=R.POWER,this.power=!0}},scaleFactor:1,significantDigits:1,label:"W",symbol:"W"},zt={quantity:new class Et{constructor(){this.quantity=R.TORQUE,this.torque=!0}},scaleFactor:9.80665,significantDigits:1,label:"kg*m",symbol:"kg\xb7m"},qt={quantity:new class q{constructor(){this.quantity=R.MOMENT_INERTIA,this.momentOfInertia=!0}},scaleFactor:1,significantDigits:6,label:"kg*m*m",symbol:"kg\xb7m\xb2"},fe={quantity:new class xt{constructor(){this.quantity=R.TEMPERATURE,this.temperature=!0}},scaleFactor:1,significantDigits:2,label:"C",symbol:"\xb0"},ot=new ht(new tt,N,te,5),H=new ht(new tt,I,te,2),it=new ht(new at,U,te,3),ut=new ht(new at,G,te,2),bt=new ht(new ft,ot,te,5),Ut=new ht(new ft,H,te,2),jt=new ht(new K,it,te,3),Bt=new ht(new K,ut,te,2),Ke=new ht(new class Y{constructor(){this.quantity=R.MOMENTUM,this.momentum=!0}},zt,te,1)},7119:(yt,T,_)=>{"use strict";_.d(T,{S:()=>b});var E=_(1985),R=_(4761),O=_(8071),x=_(5225);function b(M,w){return new E.c(S=>{let L;return(0,x.N)(S,w,()=>{L=M[R.l](),(0,x.N)(S,w,()=>{let k,J;try{({value:k,done:J}=L.next())}catch(tt){return void S.error(tt)}J?S.complete():S.next(k)},0,!0)}),()=>(0,O.T)(L?.return)&&L.return()})}},7305:function(yt,T,_){"use strict";var E=this&&this.__awaiter||function(U,G,j,lt){return new(j||(j=Promise))(function(Tt,St){function ie(Me){try{oe(lt.next(Me))}catch(Xe){St(Xe)}}function Kt(Me){try{oe(lt.throw(Me))}catch(Xe){St(Xe)}}function oe(Me){Me.done?Tt(Me.value):function At(Tt){return Tt instanceof j?Tt:new j(function(St){St(Tt)})}(Me.value).then(ie,Kt)}oe((lt=lt.apply(U,G||[])).next())})},R=this&&this.__importDefault||function(U){return U&&U.__esModule?U:{default:U}};Object.defineProperty(T,"__esModule",{value:!0}),T.expose=T.isWorkerRuntime=T.Transfer=T.registerSerializer=void 0;const O=R(_(5814)),x=_(7981),b=_(1583),M=_(8254),w=R(_(7433));var S=_(7981);Object.defineProperty(T,"registerSerializer",{enumerable:!0,get:function(){return S.registerSerializer}});var L=_(1583);Object.defineProperty(T,"Transfer",{enumerable:!0,get:function(){return L.Transfer}}),T.isWorkerRuntime=w.default.isWorkerRuntime;let k=!1;const J=new Map,at=U=>U&&U.type===M.MasterMessageType.run,ft=U=>O.default(U)||function K(U){return U&&"object"==typeof U&&"function"==typeof U.subscribe}(U);function Pt(U){return b.isTransferDescriptor(U)?{payload:U.send,transferables:U.transferables}:{payload:U,transferables:void 0}}function q(U,G){const{payload:j,transferables:lt}=Pt(G),At={type:M.WorkerMessageType.error,uid:U,error:x.serialize(j)};w.default.postMessageToMaster(At,lt)}function xt(U,G,j){const{payload:lt,transferables:At}=Pt(j);w.default.postMessageToMaster({type:M.WorkerMessageType.result,uid:U,complete:!!G||void 0,payload:lt},At)}function I(U){try{const G={type:M.WorkerMessageType.uncaughtError,error:x.serialize(U)};w.default.postMessageToMaster(G)}catch(G){console.error("Not reporting uncaught error back to master thread as it occured while reporting an uncaught error already.\nLatest error:",G,"\nOriginal error:",U)}}function N(U,G,j){return E(this,void 0,void 0,function*(){let lt;try{lt=G(...j)}catch(Tt){return q(U,Tt)}const At=ft(lt)?"observable":"promise";if(function ht(U,G){w.default.postMessageToMaster({type:M.WorkerMessageType.running,uid:U,resultType:G})}(U,At),ft(lt)){const Tt=lt.subscribe(St=>xt(U,!1,x.serialize(St)),St=>{q(U,x.serialize(St)),J.delete(U)},()=>{xt(U,!0),J.delete(U)});J.set(U,Tt)}else try{const Tt=yield lt;xt(U,!0,x.serialize(Tt))}catch(Tt){q(U,x.serialize(Tt))}})}T.expose=function $(U){if(!w.default.isWorkerRuntime())throw Error("expose() called in the master thread.");if(k)throw Error("expose() called more than once. This is not possible. Pass an object to expose() if you want to expose multiple functions.");if(k=!0,"function"==typeof U)w.default.subscribeToMasterMessages(G=>{at(G)&&!G.method&&N(G.uid,U,G.args.map(x.deserialize))}),function Et(){w.default.postMessageToMaster({type:M.WorkerMessageType.init,exposed:{type:"function"}})}();else{if("object"!=typeof U||!U)throw Error(`Invalid argument passed to expose(). Expected a function or an object, got: ${U}`);w.default.subscribeToMasterMessages(j=>{at(j)&&j.method&&N(j.uid,U[j.method],j.args.map(x.deserialize))}),function Y(U){w.default.postMessageToMaster({type:M.WorkerMessageType.init,exposed:{type:"module",methods:U}})}(Object.keys(U).filter(j=>"function"==typeof U[j]))}w.default.subscribeToMasterMessages(G=>{if((U=>U&&U.type===M.MasterMessageType.cancel)(G)){const j=G.uid,lt=J.get(j);lt&&(lt.unsubscribe(),J.delete(j))}})},typeof self<"u"&&"function"==typeof self.addEventListener&&w.default.isWorkerRuntime()&&(self.addEventListener("error",U=>{setTimeout(()=>I(U.error||U),250)}),self.addEventListener("unhandledrejection",U=>{const G=U.reason;G&&"string"==typeof G.message&&setTimeout(()=>I(G),250)})),typeof process<"u"&&"function"==typeof process.on&&w.default.isWorkerRuntime()&&(process.on("uncaughtException",U=>{setTimeout(()=>I(U),250)}),process.on("unhandledRejection",U=>{U&&"string"==typeof U.message&&setTimeout(()=>I(U),250)}))},7433:(yt,T)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.default={isWorkerRuntime:function(){const x=typeof self<"u"&&typeof Window<"u"&&self instanceof Window;return!(!(typeof self<"u"&&self.postMessage)||x)},postMessageToMaster:function(x,b){self.postMessage(x,b)},subscribeToMasterMessages:function(x){const b=w=>{x(w.data)};return self.addEventListener("message",b),()=>{self.removeEventListener("message",b)}}}},7441:(yt,T,_)=>{"use strict";_.d(T,{X:()=>E});const E=R=>R&&"number"==typeof R.length&&"function"!=typeof R},7673:(yt,T,_)=>{"use strict";_.d(T,{of:()=>O});var E=_(9326),R=_(9724);function O(...x){const b=(0,E.lI)(x);return(0,R.H)(x,b)}},7727:(yt,T)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.$worker=T.$transferable=T.$terminate=T.$events=T.$errors=void 0,T.$errors=Symbol("thread.errors"),T.$events=Symbol("thread.events"),T.$terminate=Symbol("thread.terminate"),T.$transferable=Symbol("thread.transferable"),T.$worker=Symbol("thread.worker")},7786:(yt,T,_)=>{"use strict";_.d(T,{h:()=>M});var E=_(6365),R=_(8750),O=_(983),x=_(9326),b=_(9724);function M(...w){const S=(0,x.lI)(w),L=(0,x.R0)(w,1/0),k=w;return k.length?1===k.length?(0,R.Tg)(k[0]):(0,E.U)(L)((0,b.H)(k,S)):O.w}},7908:(yt,T,_)=>{"use strict";function E(R,O){if(R){const x=R.indexOf(O);0<=x&&R.splice(x,1)}}_.d(T,{o:()=>E})},7953:(yt,T,_)=>{"use strict";_.d(T,{T:()=>R});var E=_(8071);function R(O){return Symbol.asyncIterator&&(0,E.T)(O?.[Symbol.asyncIterator])}},7981:(yt,T,_)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.serialize=T.deserialize=T.registerSerializer=void 0;const E=_(435);let R=E.DefaultSerializer;T.registerSerializer=function O(M){R=E.extendSerializer(R,M)},T.deserialize=function x(M){return R.deserialize(M)},T.serialize=function b(M){return R.serialize(M)}},8071:(yt,T,_)=>{"use strict";function E(R){return"function"==typeof R}_.d(T,{T:()=>E})},8141:(yt,T,_)=>{"use strict";_.d(T,{M:()=>b});var E=_(8071),R=_(9974),O=_(4360),x=_(3669);function b(M,w,S){const L=(0,E.T)(M)||w||S?{next:M,error:w,complete:S}:M;return L?(0,R.N)((k,J)=>{var tt;null===(tt=L.subscribe)||void 0===tt||tt.call(L);let at=!0;k.subscribe((0,O._)(J,ft=>{var K;null===(K=L.next)||void 0===K||K.call(L,ft),J.next(ft)},()=>{var ft;at=!1,null===(ft=L.complete)||void 0===ft||ft.call(L),J.complete()},ft=>{var K;at=!1,null===(K=L.error)||void 0===K||K.call(L,ft),J.error(ft)},()=>{var ft,K;at&&(null===(ft=L.unsubscribe)||void 0===ft||ft.call(L)),null===(K=L.finalize)||void 0===K||K.call(L)}))}):x.D}},8146:function(yt,T,_){"use strict";var E=this&&this.__createBinding||(Object.create?function(w,S,L,k){void 0===k&&(k=L),Object.defineProperty(w,k,{enumerable:!0,get:function(){return S[L]}})}:function(w,S,L,k){void 0===k&&(k=L),w[k]=S[L]}),R=this&&this.__exportStar||function(w,S){for(var L in w)"default"!==L&&!Object.prototype.hasOwnProperty.call(S,L)&&E(S,w,L)};Object.defineProperty(T,"__esModule",{value:!0}),T.Transfer=T.DefaultSerializer=T.expose=T.registerSerializer=void 0;var O=_(7981);Object.defineProperty(T,"registerSerializer",{enumerable:!0,get:function(){return O.registerSerializer}}),R(_(5281),T);var x=_(7305);Object.defineProperty(T,"expose",{enumerable:!0,get:function(){return x.expose}});var b=_(435);Object.defineProperty(T,"DefaultSerializer",{enumerable:!0,get:function(){return b.DefaultSerializer}});var M=_(1583);Object.defineProperty(T,"Transfer",{enumerable:!0,get:function(){return M.Transfer}})},8254:(yt,T)=>{"use strict";var R;Object.defineProperty(T,"__esModule",{value:!0}),T.WorkerMessageType=T.MasterMessageType=void 0,(R=T.MasterMessageType||(T.MasterMessageType={})).cancel="cancel",R.run="run",function(R){R.error="error",R.init="init",R.result="result",R.running="running",R.uncaughtError="uncaughtError"}(T.WorkerMessageType||(T.WorkerMessageType={}))},8530:(yt,T,_)=>{"use strict";_.d(T,{B:()=>M});var E=_(1985),R=_(3961),O=_(9117),x=_(7908),b=_(9786);let M=(()=>{class S extends E.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(k){const J=new w(this,this);return J.operator=k,J}_throwIfClosed(){if(this.closed)throw new O.P}next(k){(0,b.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const J of this.currentObservers)J.next(k)}})}error(k){(0,b.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=k;const{observers:J}=this;for(;J.length;)J.shift().error(k)}})}complete(){(0,b.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:k}=this;for(;k.length;)k.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var k;return(null===(k=this.observers)||void 0===k?void 0:k.length)>0}_trySubscribe(k){return this._throwIfClosed(),super._trySubscribe(k)}_subscribe(k){return this._throwIfClosed(),this._checkFinalizedStatuses(k),this._innerSubscribe(k)}_innerSubscribe(k){const{hasError:J,isStopped:tt,observers:at}=this;return J||tt?R.Kn:(this.currentObservers=null,at.push(k),new R.yU(()=>{this.currentObservers=null,(0,x.o)(at,k)}))}_checkFinalizedStatuses(k){const{hasError:J,thrownError:tt,isStopped:at}=this;J?k.error(tt):at&&k.complete()}asObservable(){const k=new E.c;return k.source=this,k}}return S.create=(L,k)=>new w(L,k),S})();class w extends M{constructor(L,k){super(),this.destination=L,this.source=k}next(L){var k,J;null===(J=null===(k=this.destination)||void 0===k?void 0:k.next)||void 0===J||J.call(k,L)}error(L){var k,J;null===(J=null===(k=this.destination)||void 0===k?void 0:k.error)||void 0===J||J.call(k,L)}complete(){var L,k;null===(k=null===(L=this.destination)||void 0===L?void 0:L.complete)||void 0===k||k.call(L)}_subscribe(L){var k,J;return null!==(J=null===(k=this.source)||void 0===k?void 0:k.subscribe(L))&&void 0!==J?J:R.Kn}}},8750:(yt,T,_)=>{"use strict";_.d(T,{Tg:()=>at});var E=_(1635),R=_(7441),O=_(9858),x=_(1985),b=_(5055),M=_(7953),w=_(591),S=_(5397),L=_(5196),k=_(8071),J=_(5334),tt=_(3494);function at(ht){if(ht instanceof x.c)return ht;if(null!=ht){if((0,b.l)(ht))return function ft(ht){return new x.c(I=>{const N=ht[tt.s]();if((0,k.T)(N.subscribe))return N.subscribe(I);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ht);if((0,R.X)(ht))return function K(ht){return new x.c(I=>{for(let N=0;N<ht.length&&!I.closed;N++)I.next(ht[N]);I.complete()})}(ht);if((0,O.y)(ht))return function Pt(ht){return new x.c(I=>{ht.then(N=>{I.closed||(I.next(N),I.complete())},N=>I.error(N)).then(null,J.m)})}(ht);if((0,M.T)(ht))return Y(ht);if((0,S.x)(ht))return function Et(ht){return new x.c(I=>{for(const N of ht)if(I.next(N),I.closed)return;I.complete()})}(ht);if((0,L.U)(ht))return function q(ht){return Y((0,L.C)(ht))}(ht)}throw(0,w.L)(ht)}function Y(ht){return new x.c(I=>{(function xt(ht,I){var N,$,U,G;return(0,E.sH)(this,void 0,void 0,function*(){try{for(N=(0,E.xN)(ht);!($=yield N.next()).done;)if(I.next($.value),I.closed)return}catch(j){U={error:j}}finally{try{$&&!$.done&&(G=N.return)&&(yield G.call(N))}finally{if(U)throw U.error}}I.complete()})})(ht,I).catch(N=>I.error(N))})}},8810:(yt,T,_)=>{"use strict";_.d(T,{$:()=>O});var E=_(1985),R=_(8071);function O(x,b){const M=(0,R.T)(x)?x:()=>x,w=S=>S.error(M());return new E.c(b?S=>b.schedule(w,0,S):w)}},9117:(yt,T,_)=>{"use strict";_.d(T,{P:()=>R});const R=(0,_(1853).L)(O=>function(){O(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"})},9270:(yt,T,_)=>{"use strict";_.d(T,{f:()=>E});const E={setTimeout(R,O,...x){const{delegate:b}=E;return b?.setTimeout?b.setTimeout(R,O,...x):setTimeout(R,O,...x)},clearTimeout(R){const{delegate:O}=E;return(O?.clearTimeout||clearTimeout)(R)},delegate:void 0}},9326:(yt,T,_)=>{"use strict";_.d(T,{R0:()=>b,lI:()=>x});var E=_(9470);function R(M){return M[M.length-1]}function x(M){return(0,E.m)(R(M))?M.pop():void 0}function b(M,w){return"number"==typeof R(M)?M.pop():w}},9350:(yt,T,_)=>{"use strict";_.d(T,{G:()=>R});const R=(0,_(1853).L)(O=>function(){O(this),this.name="EmptyError",this.message="no elements in sequence"})},9470:(yt,T,_)=>{"use strict";_.d(T,{m:()=>R});var E=_(8071);function R(O){return O&&(0,E.T)(O.schedule)}},9724:(yt,T,_)=>{"use strict";_.d(T,{H:()=>O});var E=_(2593),R=_(8750);function O(x,b){return b?(0,E.c)(x,b):(0,R.Tg)(x)}},9786:(yt,T,_)=>{"use strict";_.d(T,{Y:()=>O,l:()=>x});var E=_(1026);let R=null;function O(b){if(E.$.useDeprecatedSynchronousErrorHandling){const M=!R;if(M&&(R={errorThrown:!1,error:null}),b(),M){const{errorThrown:w,error:S}=R;if(R=null,w)throw S}}else b()}function x(b){E.$.useDeprecatedSynchronousErrorHandling&&R&&(R.errorThrown=!0,R.error=b)}},9858:(yt,T,_)=>{"use strict";_.d(T,{y:()=>R});var E=_(8071);function R(O){return(0,E.T)(O?.then)}},9974:(yt,T,_)=>{"use strict";_.d(T,{N:()=>O});var E=_(8071);function O(x){return b=>{if(function R(x){return(0,E.T)(x?.lift)}(b))return b.lift(function(M){try{return x(M,this)}catch(w){this.error(w)}});throw new TypeError("Unable to lift unknown Observable type")}}}}]);
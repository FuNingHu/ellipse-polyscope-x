{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createPromiseWithResolver = void 0;\nconst doNothing = () => undefined;\n/**\n * Creates a new promise and exposes its resolver function.\n * Use with care!\n */\nfunction createPromiseWithResolver() {\n  let alreadyResolved = false;\n  let resolvedTo;\n  let resolver = doNothing;\n  const promise = new Promise(resolve => {\n    if (alreadyResolved) {\n      resolve(resolvedTo);\n    } else {\n      resolver = resolve;\n    }\n  });\n  const exposedResolver = value => {\n    alreadyResolved = true;\n    resolvedTo = value;\n    resolver(resolvedTo);\n  };\n  return [promise, exposedResolver];\n}\nexports.createPromiseWithResolver = createPromiseWithResolver;","map":null,"metadata":{},"sourceType":"script","externalDependencies":[]}
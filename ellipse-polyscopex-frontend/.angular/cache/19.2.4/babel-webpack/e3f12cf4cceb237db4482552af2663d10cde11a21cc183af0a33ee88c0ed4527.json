{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.DefaultSerializer = exports.extendSerializer = void 0;\nfunction extendSerializer(extend, implementation) {\n  const fallbackDeserializer = extend.deserialize.bind(extend);\n  const fallbackSerializer = extend.serialize.bind(extend);\n  return {\n    deserialize(message) {\n      return implementation.deserialize(message, fallbackDeserializer);\n    },\n    serialize(input) {\n      return implementation.serialize(input, fallbackSerializer);\n    }\n  };\n}\nexports.extendSerializer = extendSerializer;\nconst DefaultErrorSerializer = {\n  deserialize(message) {\n    return Object.assign(Error(message.message), {\n      name: message.name,\n      stack: message.stack\n    });\n  },\n  serialize(error) {\n    return {\n      __error_marker: \"$$error\",\n      message: error.message,\n      name: error.name,\n      stack: error.stack\n    };\n  }\n};\nconst isSerializedError = thing => thing && typeof thing === \"object\" && \"__error_marker\" in thing && thing.__error_marker === \"$$error\";\nexports.DefaultSerializer = {\n  deserialize(message) {\n    if (isSerializedError(message)) {\n      return DefaultErrorSerializer.deserialize(message);\n    } else {\n      return message;\n    }\n  },\n  serialize(input) {\n    if (input instanceof Error) {\n      return DefaultErrorSerializer.serialize(input);\n    } else {\n      return input;\n    }\n  }\n};","map":null,"metadata":{},"sourceType":"script","externalDependencies":[]}
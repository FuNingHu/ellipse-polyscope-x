import { AddBlockChildNode, AddNode, RemoveNode, SubtreeContext, SubtreeNode, TreeContext } from '../../types/context';
import { ProgramNode } from '../../types/nodes';
import { EventTargetOrCommChannel, MessageInvokerService } from '../message-invoker';
export declare const PROGRAM_TREE_SERVICE_MESSAGE_TYPE_BASE = "ur.web.message.ProgramTreeService.";
/**
 * Service that handles node insertion and removal of nodes
 */
export declare class ProgramTreeService extends MessageInvokerService {
    readonly eventTarget: EventTargetOrCommChannel;
    /**
     * @constructor
     * @param eventTarget
     */
    constructor(eventTarget: EventTargetOrCommChannel);
    /**
     * Update a specific node in the program tree using the given nodes id
     * @param node Node to be updated
     */
    updateSubTreeNode(node: SubtreeNode): Promise<void>;
    /**
     * Update child node
     * @param node Child node to be updated
     * @deprecated Use {@link updateSubTreeNode} instead
     */
    updateChildNode(node: SubtreeNode): Promise<void>;
    /**
     * Add node as either child or sibling
     * @param node node to be added
     */
    addNode(node: AddNode): Promise<void>;
    /**
     * Add a node to the root of a program block, for example the main program or
     * the before start
     * @param The node, and other add parameters
     */
    addBlockChildNode(node: AddBlockChildNode): Promise<void>;
    /**
     * Remove child node
     * @param node Child node to be removed
     */
    removeChildNode(node: RemoveNode): Promise<void>;
    /**
     * Sets the given node as the active program block
     * @param nodeID The node to navigate to
     */
    setActiveProgramBlock(nodeID: string): Promise<void>;
    /**
     * Sets the given node as the active program block
     * @param nodeID The node to navigate to
     */
    selectProgramNode(nodeID: string): Promise<void>;
    /**
     * Get a readonly version of a given node
     * @param nodeID The node to get
     */
    getProgramNodeById(nodeID: string): Promise<Readonly<ProgramNode>>;
    /**
     * Get the tree context from a given program node
     */
    getTreeContextFromProgramNodeById(subTreeNodeId: string): Promise<TreeContext>;
    /**
     * Get the subtree context from a given program node.
     * This returns the same traversals as getTreeContextFromProgramNodeById but will
     * return a SubtreeNode for ancestor and sibling calls.
     * For ancestor and sibling calls, where a SubtreeNode is not from the calling URCap,
     * then the SubtreeNode id will be ''.
     */
    getSubtreeContextFromProgramNodeById(subTreeNodeId: string): Promise<SubtreeContext>;
    /**
     * Get the contributed node instances for the URCap that are currently inserted in the program
     */
    getContributedNodeInstancesForURCap(): Promise<SubtreeNode[]>;
}

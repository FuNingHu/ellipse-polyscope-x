import { ScriptBuilder } from '../../scriptBuilder';
import { ApplicationContext } from '../context';
import { ApplicationNode } from '../nodes';
import { OptionalPromise } from './optional.promise';
/**
 * A function that can be used to create an ApplicationNode
 */
export type ApplicationFactory = () => OptionalPromise<ApplicationNode>;
/**
 * A function that can be used to create a script builder for application code
 */
export type ApplicationCodeGenerator = (node: ApplicationNode, context: ApplicationContext) => OptionalPromise<ScriptBuilder>;
/**
 * A function that can be used to move between versions of an application node
 */
export type ApplicationVersionController = (loadedNode: ApplicationNode, defaultNode: ApplicationNode, context: ApplicationContext) => OptionalPromise<ApplicationNode>;
/**
 * A function called whenever an application containing the node is loaded
 */
export type OnApplicationLoadHook = (node: ApplicationNode) => void;
/**
 * Public API specifying available behaviors for the application
 */
export type ApplicationBehaviors = {
    factory: ApplicationFactory;
    generatePreamble?: ApplicationCodeGenerator;
    upgradeNode?: ApplicationVersionController;
    downgradeNode?: ApplicationVersionController;
    onLoad?: OnApplicationLoadHook;
};

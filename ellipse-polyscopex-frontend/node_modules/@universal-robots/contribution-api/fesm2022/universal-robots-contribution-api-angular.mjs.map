{"version":3,"file":"universal-robots-contribution-api-angular.mjs","sources":["../../../../libs/contribution-api/angular/src/lib/pipes/displayvalue.pipe.ts","../../../../libs/contribution-api/angular/src/lib/pipes/value-formatter.pipe.ts","../../../../libs/contribution-api/angular/src/lib/pipes/precision.pipe.ts","../../../../libs/contribution-api/angular/src/lib/components/custom-footer-dialog.component.ts","../../../../libs/contribution-api/angular/src/universal-robots-contribution-api-angular.ts"],"sourcesContent":["import { Pipe, PipeTransform } from '@angular/core';\nimport { convertValue, Value, valueRawConverter } from '@universal-robots/contribution-api';\nimport { Unit, UnitType, FixedPointNumber } from '@universal-robots/utilities-units';\n\n/**\n * Formats a Value object to a string converting it to the specified unit with the unit's symbol appended\n * <p>The pipe requires one additional argument, the unit to convert into see {@link transform} for more information</p>\n * @example\n * ```html\n * <span>{{ { value: 1, unit: 'm/s' } | displayvalue: 'mm/s' }}</span>\n * <!-- outputs: <span>1000 mm/s</span> -->\n * ```\n * @param value The value object to be formatted\n * @param to The unit to convert into, must be compatible with the value object's unit\n * @returns The formatted value with the specified unit's symbol appended\n * @see DisplayValueRawPipe\n */\n@Pipe({\n    name: 'displayvalue',\n    standalone: true,\n})\nexport class DisplayValuePipe<T extends UnitType> implements PipeTransform {\n    /**\n     * Transform the value object into a formatted string converting it to the specified unit with the unit's symbol appended\n     * @param value The value object to be formatted\n     * @param to The unit to convert into, must be compatible with the value object's unit\n     * @returns The formatted value with the unit's symbol appended\n     */\n    transform(value: Value, to: Unit<T>): string {\n        const convertedValue = convertValue(value, to.label);\n        return `${new FixedPointNumber(Number(convertedValue.value), to).getDisplayValue()} ${to.symbol}`;\n    }\n}\n\n/**\n * Formats a value object to a string converting it to the specified unit without any unit symbols or label\n * <p>The pipe requires one additional argument, the unit to convert into see {@link transform} for more information</p>\n * @example\n * ```html\n * <span>{{ { value: 1, unit: 'm/s' } | displayvalueraw: 'mm/s' }}</span>\n * <!-- outputs: <span>1000</span> -->\n * ```\n * @see DisplayValuePipe\n */\n@Pipe({\n    name: 'displayvalueraw',\n    standalone: true,\n})\nexport class DisplayValueRawPipe<T extends UnitType> implements PipeTransform {\n    /**\n     * Transform the value object into a formatted string converting it to the specified unit without any unit symbols or label\n     * @param value The value object to be formatted\n     * @param to The unit to convert into, must be compatible with the value object's unit\n     * @returns The formatted value without any unit symbols or label\n     */\n    transform(value: Value, to: Unit<T>): string {\n        return valueRawConverter(value, to);\n    }\n}\n","import { Pipe, PipeTransform } from '@angular/core';\nimport { convertValue, Value } from '@universal-robots/contribution-api';\nimport { FixedPointNumber, Unit, UnitType } from '@universal-robots/utilities-units';\n\n@Pipe({\n    name: 'valueFormatter',\n    standalone: true,\n})\nexport class ValueFormatterPipe<T extends UnitType> implements PipeTransform {\n    /**\n     * @param value {Value} The value object to get fixed decimal places\n     * @param to {Unit} The unit to convert into, must be compatible with the value object's unit\n     * @returns The number fixed to the precision specified by the unit\n     */\n    transform(value: Value, to: Unit<T>): number {\n        const convertedValue = convertValue(value, to.label);\n        return new FixedPointNumber(convertedValue.value, to).getFixedValue();\n    }\n}\n","import { Pipe, PipeTransform } from '@angular/core';\nimport { Unit } from '@universal-robots/utilities-units';\n\n@Pipe({\n    name: 'precision',\n    standalone: true,\n})\nexport class NumberPrecisionPipe<T> implements PipeTransform {\n    /**\n     * @param value The value object to get fixed decimal places\n     * @param precision {number, Unit} the precision to round the value to or the unit to convert into the buildin significat digits\n     * @returns The number fixed to the specified precision\n     */\n    transform(value: number, precision: number | Unit): number | undefined {\n        if (isNaN(value)) {\n            return value;\n        }\n        // Unit guard\n        if (typeof precision === 'object' && 'significantDigits' in precision) {\n            return Number.parseFloat(value.toFixed(precision.significantDigits));\n        }\n        return typeof precision === 'number' && !isNaN(precision) ? Number.parseFloat(value.toFixed(precision)) : undefined;\n    }\n}\n","import { Component, EventEmitter, Input, Output } from '@angular/core';\nimport { WebComponentDialogAPI } from '@universal-robots/contribution-api';\nimport { CloseDialog, CloseReason } from '@universal-robots/ui-models';\n\n/**\n * Abstract Angular component for extension by Dialogs that implement a custom footer.\n *\n * Gives access to the input data and the presenter API.\n *\n * Provides methods to cancel or confirm the dialog with a reason and return data.\n *\n * For dialogs that do not require a custom footer, use {@link WebComponentDialogComponent}.\n *\n * @see WebComponentDialogComponent\n */\n@Component({\n    template: '',\n    standalone: false,\n})\nexport abstract class CustomFooterDialogComponent<InputType, OutputType> {\n    /**\n     * The input data provided to the dialog when opened with\n     * dialogService.openCustomDialog<T>, where T is the type of data\n     */\n    @Input({ required: true })\n    public inputData!: InputType;\n\n    /**\n     * API for working with the rest of the application from within the web-component dialog\n     */\n    @Input({ required: true })\n    public presenterApi!: WebComponentDialogAPI;\n\n    /**\n     * Closes the dialog.\n     *\n     * The event contains the reason the dialog was closed and the output data.\n     */\n    @Output()\n    private closeDialog = new EventEmitter<CloseDialog<OutputType>>();\n\n    /**\n     * Closes the dialog with a reason of {@link CloseReason.CANCELLED} and without any return data.\n     * @see CloseDialog\n     */\n    public cancelDialog() {\n        this.closeDialog.emit({\n            reason: CloseReason.CANCELLED,\n        });\n    }\n\n    /**\n     * Closes the dialog with a reason of {@link CloseReason.CONFIRMED} and with provided returnData as the {@link CloseDialog#returnData}.\n     * @param returnData The data to include as the return data in the {@link CloseDialog}\n     * @see CloseDialog\n     */\n    public confirmDialog(returnData: OutputType) {\n        this.closeDialog.emit({\n            reason: CloseReason.CONFIRMED,\n            returnData: returnData,\n        });\n    }\n}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"],"names":[],"mappings":"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"}
{"version":3,"file":"universal-robots-ui-models.mjs","sources":["../../../../libs/ui-models/src/lib/ur-dialog.model.ts","../../../../libs/ui-models/src/lib/ur-tab-input.model.ts","../../../../libs/ui-models/src/lib/ur-field.model.ts","../../../../libs/ui-models/src/universal-robots-ui-models.ts"],"sourcesContent":["import { Injector, ViewContainerRef } from '@angular/core';\n\nexport const DialogSize = {\n    TAKEOVER: 'TAKEOVER',\n    XXL: 'XXL',\n    XL: 'XL',\n    LARGE: 'LARGE',\n    DEFAULT: 'DEFAULT',\n    SMALL: 'SMALL',\n    XSMALL: 'XSMALL',\n} as const;\n\nexport type DialogSizeType = keyof typeof DialogSize;\nexport interface GenericDialogOptions {\n    dialogSize?: DialogSizeType;\n    title?: string;\n    icon?: string;\n    showHeader?: boolean;\n    showFooter?: boolean;\n    confirmText?: string;\n    cancelText?: string;\n    raiseForKeyboard?: boolean;\n}\nexport type DialogCloseEvent = {\n    $event: Event;\n    reason: CloseReasonType;\n};\nexport type PortalCloseEvent = {\n    id: string;\n    customData: CloseDialog<unknown>;\n};\n\nexport const CloseReason = {\n    CANCELLED: 'CANCELLED',\n    DESTROYED: 'DESTROYED',\n    CONFIRMED: 'CONFIRMED',\n    UNKNOWN: 'UNKNOWN',\n} as const;\nexport type CloseReasonType = keyof typeof CloseReason;\n\nexport interface CloseDialog<T> {\n    reason: CloseReasonType;\n    returnData?: T;\n}\nexport type DialogError = {\n    errorType: 'SAFETY_MODE' | 'RUNTIME' | string;\n    errorCodes?: number[];\n};\nexport type LayerToken =\n    | '--layer-error'\n    | '--layer-popup'\n    | '--layer-keyboard'\n    | '--layer-notification'\n    | '--layer-dropdown'\n    | '--layer-modal'\n    | '--layer-navigation'\n    | '--layer-tooltip'\n    | '--layer-tools'\n    | '--layer-program-nodes'\n    | '--layer-default'\n    | '--layer-under';\nexport interface DialogConfig {\n    // controlling layer of the dialog with a css variable\n    layer?: LayerToken;\n    panelClass?: string;\n    error?: DialogError;\n    hasBackdrop?: boolean;\n    backdropClass?: string;\n    disableClose?: boolean; // If dialog shouldn't have a close icon\n    critical?: boolean; // If dialog is critical, and cannot be 'force closed'.\n    size?: DialogSizeType;\n    maxOpenDialogs?: number; // If dialog has limit on number of open dialogs.\n    viewContainerRef?: ViewContainerRef;\n    injector?: Injector;\n}\n\nexport const DIALOG_KEYS = {\n    LOCALSTORAGE: 'ur-portal-service',\n    OPEN_EVENT: 'portalservice:open',\n    CLOSE_EVENT: 'portalservice:close',\n    UPDATE_EVENT: 'portalservice:update',\n    CLOSE_BY_ID_EVENT: 'portalservice:close_own',\n    CLOSE_BY_ERROR_TYPE_EVENT: 'portalservice:close_by_type',\n} as const;\n","import {\n    InputTranslation,\n    InputType,\n    InputValidationAttribute,\n    InputValidator,\n    NumberInputType,\n    VirtualKeyboardLayout,\n} from './ur-field.model';\n\nexport const SelectedInput = {\n    VALUE: 'VALUE',\n    VARIABLE: 'VARIABLE',\n    EXPRESSION: 'EXPRESSION',\n} as const;\n\nexport type SelectedType = keyof typeof SelectedInput;\n\nexport type ValueType = string | number;\n\nexport interface TabInputValue {\n    selectedType: SelectedType;\n    value: ValueType;\n}\n\nexport type TabInputValueType = 'string' | 'integer' | 'float' | 'boolean';\n\nexport interface TabInputVariable {\n    name: string;\n    valueType: TabInputValueType;\n    suppressed?: boolean;\n}\n\n/**\n * These are insertables that can be added to the current expression in\n * the expression tab. They will typically be entries in a dropdown\n * @property label This is what is shown in the dropdown.\n * @property value This is what will be inserted, if different to the label\n * @property details For grouping in the dropdown\n */\nexport interface TabInputInsertable {\n    label: string;\n    value?: string;\n    details?: string;\n}\n\n/**\n * All the insertables\n */\nexport interface TabInputInsertableModel {\n    inputs: TabInputInsertable[];\n    outputs: TabInputInsertable[];\n    builtins: TabInputInsertable[];\n    functions: TabInputInsertable[];\n    variables: TabInputVariable[];\n}\n\nexport interface TabInputData {\n    keyboardLayout?: VirtualKeyboardLayout;\n    label: string;\n    message?: string;\n    inputLabel: string;\n    placeholder: string;\n    positiveDigitsOnly?: boolean;\n    precision?: number;\n    step?: number;\n    tabs: Array<SelectedType>;\n    tabInputValue: TabInputValue;\n    title?: string;\n    translations: InputTranslation;\n    type: InputType | NumberInputType;\n    unit?: string;\n    valid?: boolean;\n    validators?: InputValidator[];\n    validation?: InputValidationAttribute;\n    valueType?: TabInputValueType | TabInputValueType[];\n    variables?: TabInputVariable[];\n    insertables?: TabInputInsertableModel;\n}\nexport interface TabInputReturnData {\n    selectedType: SelectedType;\n    valid: boolean;\n    value: string | number;\n}\n","import { AbstractControl, FormControlStatus, ValidationErrors } from '@angular/forms';\nimport { Observable } from 'rxjs';\nimport { Key } from 'ts-key-enum';\nimport { CloseReasonType } from './ur-dialog.model';\n\n/**\n * @deprecated\n * See {@link URValidationFn} for the new type.\n */\nexport type InputValidatorMessage = { message: string; validationType: 'error' | 'warning' };\n\n/**\n * @deprecated\n * This type is deprecated and should be replaced with URValidationFn.\n * See {@link URValidationFn} for the new type.\n */\nexport type InputValidator<T extends string | number = string | number> = (\n    value: T,\n) => string | InputValidatorMessage | null | Promise<string | InputValidatorMessage | null>;\n\nexport type URValidationResponse = ValidationErrors | string | null;\nexport type URValidatorFn = (\n    control: AbstractControl,\n) => URValidationResponse | Promise<URValidationResponse> | Observable<URValidationResponse>;\n\nexport type InputValidationAttribute = {\n    minLength?: number; // the minimum and maximum length of textual data (strings)\n    maxLength?: number; // the minimum and maximum length of textual data (strings)\n    min?: number; // the minimum and maximum values of numerical input types\n    max?: number; // the minimum and maximum values of numerical input types\n    pattern?: string; // a regular expression that defines a pattern the entered data needs to follow.\n    required?: boolean; // whether a form field needs to be filled in before the form can be submitted.\n    type?: boolean; // should check for type mismatch\n};\nexport interface InputTranslation {\n    patternMismatchMessage?: string;\n    requiredValidationMessage?: string;\n    tooLongMessage?: string;\n    tooShortMessage?: string;\n    typeMismatchMessage?: string;\n    rangeOverflowMessage?: string;\n    rangeUnderflowMessage?: string;\n    confirmMessage?: string;\n}\n\nexport type AllowedKeys = {\n    dot: string;\n    dash: string;\n    plus: string;\n    backspace: Key.Backspace;\n    arrowUp: Key.ArrowUp;\n    arrowDown: Key.ArrowDown;\n    arrowRight: Key.ArrowRight;\n    arrowLeft: Key.ArrowLeft;\n    tab: Key.Tab;\n    del: Key.Delete;\n};\n\nexport const getAllowedKeys = (): string[] => {\n    const allowedKeys: AllowedKeys = {\n        dot: '.',\n        arrowDown: Key.ArrowDown,\n        arrowLeft: Key.ArrowLeft,\n        arrowRight: Key.ArrowRight,\n        arrowUp: Key.ArrowUp,\n        dash: '-',\n        plus: '+',\n        tab: Key.Tab,\n        backspace: Key.Backspace,\n        del: Key.Delete,\n    };\n\n    return [...Object.values(allowedKeys)];\n};\n\nexport interface DialogInputData {\n    charLimit?: number;\n    currentValue?: string | number;\n    keyboardLayout?: VirtualKeyboardLayout;\n    label: string;\n    message?: string;\n    placeholder?: string;\n    precision?: number;\n    positiveDigitsOnly?: boolean;\n    step?: number;\n    title?: string;\n    translations?: InputTranslation;\n    type: InputType | NumberInputType;\n    unit?: string;\n    uid?: string;\n    value?: string | number;\n    validators?: InputValidator[];\n    validation?: InputValidationAttribute;\n    valid?: boolean;\n    showClearIcon?: boolean;\n    onBeforeClose?: (value: string, reason?: CloseReasonType) => string | null | Promise<string | null>;\n}\n\nexport interface ValidationChangeEvent {\n    status: FormControlStatus;\n    errors?: ValidationErrors;\n}\n\nexport interface DialogInputReturnData {\n    value: string;\n    valid: boolean;\n}\n\n/**\n * numeric-fixed: only numbers, no decimal point, no negative numbers\n * numeric-fixed-positive: only numbers, no decimal point, only positive numbers\n * numeric-free: numbers, decimal point, negative numbers\n * numeric-free-positive: numbers, decimal point, only positive numbers\n * alpha-numeric: numbers, letters, special characters\n */\nexport type VirtualKeyboardLayout =\n    | 'numeric-fixed'\n    | 'numeric-fixed-positive'\n    | 'numeric-free'\n    | 'numeric-free-positive'\n    | 'alpha-numeric'\n    | 'numeric-symbols';\n\nexport type InputType = 'email' | 'password' | 'search' | 'text' | 'url';\nexport type NumberInputType = 'number';\n\nexport default {};\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"],"names":[],"mappings":"AAEa,MAAA,UAAU,GAAG;AACtB,IAAA,QAAQ,EAAE,UAAU;AACpB,IAAA,GAAG,EAAE,KAAK;AACV,IAAA,EAAE,EAAE,IAAI;AACR,IAAA,KAAK,EAAE,OAAO;AACd,IAAA,OAAO,EAAE,SAAS;AAClB,IAAA,KAAK,EAAE,OAAO;AACd,IAAA,MAAM,EAAE,QAAQ;;AAuBP,MAAA,WAAW,GAAG;AACvB,IAAA,SAAS,EAAE,WAAW;AACtB,IAAA,SAAS,EAAE,WAAW;AACtB,IAAA,SAAS,EAAE,WAAW;AACtB,IAAA,OAAO,EAAE,SAAS;;AAwCT,MAAA,WAAW,GAAG;AACvB,IAAA,YAAY,EAAE,mBAAmB;AACjC,IAAA,UAAU,EAAE,oBAAoB;AAChC,IAAA,WAAW,EAAE,qBAAqB;AAClC,IAAA,YAAY,EAAE,sBAAsB;AACpC,IAAA,iBAAiB,EAAE,yBAAyB;AAC5C,IAAA,yBAAyB,EAAE,6BAA6B;;;ACzE/C,MAAA,aAAa,GAAG;AACzB,IAAA,KAAK,EAAE,OAAO;AACd,IAAA,QAAQ,EAAE,UAAU;AACpB,IAAA,UAAU,EAAE,YAAY;;;AC8CrB,MAAM,cAAc,GAAG,MAAe;AACzC,IAAA,MAAM,WAAW,GAAgB;AAC7B,QAAA,GAAG,EAAE,GAAG;AACR,QAAA,SAAS,EAAe,WAAA;AACxB,QAAA,SAAS,EAAe,WAAA;AACxB,QAAA,UAAU,EAAgB,YAAA;AAC1B,QAAA,OAAO,EAAa,SAAA;AACpB,QAAA,IAAI,EAAE,GAAG;AACT,QAAA,IAAI,EAAE,GAAG;AACT,QAAA,GAAG,EAAS,KAAA;AACZ,QAAA,SAAS,EAAe,WAAA;AACxB,QAAA,GAAG,EAAY,QAAA;KAClB;IAED,OAAO,CAAC,GAAG,MAAM,CAAC,MAAM,CAAC,WAAW,CAAC,CAAC;AAC1C;AAqDA,oBAAe,EAAE;;AC9HjB;;AAEG;;;;"}